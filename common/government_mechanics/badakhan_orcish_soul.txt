badakhan_orcish_soul_mechanic = {
	available = {
		has_dlc = "King of Kings"
	}
	powers = {
		badakhan_orcish_soul_struggle = {
			gui = egyptian_westernization_gov_mech
			show_before_interactions = yes
			max = 100
			reset_on_new_ruler = no
			base_monthly_growth = -0.05
			development_scaled_monthly_growth = 0
			scaled_modifier = {
				modifier = {
					land_morale = 0.10
				}
			}
			reverse_scaled_modifier = {
				modifier = {
					stability_cost_modifier = -0.20
					monthly_reform_progress_modifier = 0.3
				}
				start_value = 0
				end_value = 50
			}
			scaled_modifier = {
				modifier = {
					stability_cost_modifier = 0.20
					monthly_reform_progress_modifier = -0.3
				}
				start_value = 50
				end_value = 100
			}
			is_good = yes
		}
	}
	interactions = {
		confront_amriels_followers = {
			icon = GFX_study_western_administration
			gui = "egyptian_westernization_interaction_button"
			cost_type = badakhan_orcish_soul_struggle
			cost = 40
			trigger = {
				custom_trigger_tooltip = {
					tooltip = badkhan_soul_struggle_trigger_tt
					NOT = { 
						check_variable = {
							which = badakhan_admin_var
							value = 5
						}
					}
				}
            }
			effect = {
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = badakhan_admin_var
								value = 1
							}
						}
					}
					custom_tooltip = badakhan_adm_counter_1_tt
					hidden_effect = {
						add_country_modifier = {
							name = badakhan_admin_debuff_1
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_admin_debuff_2
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_admin_debuff_3
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_admin_debuff_4
							duration = -1
							hidden = yes
						}
						set_variable = {
							which = badakhan_admin_var
							value = 1
						}
						if = {
							limit = {
								government = monarchy
							}
							set_country_flag = badakhan_heirs_bonus
						}
						else_if = {
							limit = {
								government = republic
							}
							add_country_modifier = {
								name = badakhan_republic_bonus
								duration = -1
							}
						}
						else_if = {
							limit = {
								government = theocracy
							}
							add_country_modifier = {
								name = badakhan_theocracy_bonus
								duration = -1
							}
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_admin_var
							value = 1
						}
					}
					custom_tooltip = badakhan_adm_counter_2_tt
					hidden_effect = {
						remove_country_modifier = badakhan_admin_debuff_1
						set_variable = {
							which = badakhan_admin_var
							value = 2
						}
					}
				}
				else_if = {
					limit = { 
						is_variable_equal = {
							which = badakhan_admin_var
							value = 2
						}
					}
					custom_tooltip = badakhan_adm_counter_3_tt
					define_advisor = {
						type = theologian
						skill = 3
						discount = yes
					}
					hidden_effect = {
						remove_country_modifier = badakhan_admin_debuff_2
						set_variable = {
							which = badakhan_admin_var
							value = 3
						}
					}
				}
				else_if = {
					limit = { 
						is_variable_equal = {
							which = badakhan_admin_var
							value = 3
						}
					}
					custom_tooltip = badakhan_adm_counter_4_tt
					change_adm = 1
					hidden_effect = {
						remove_country_modifier = badakhan_admin_debuff_3
						set_variable = {
							which = badakhan_admin_var
							value = 4
						}
					}
				}
				else_if = {
					limit = { 
						is_variable_equal = {
							which = badakhan_admin_var
							value = 4
						}
					}
					custom_tooltip = badakhan_adm_counter_5_tt
					add_stability = 2
					badakhan_confront_amriel = yes
					hidden_effect = {
						remove_country_modifier = badakhan_admin_debuff_4
						set_variable = {
							which = badakhan_admin_var
							value = 5
						}
					}
				}
				else_if = {
					limit = { 
						is_variable_equal = {
							which = badakhan_admin_var
							value = 5
						}
					}
					custom_tooltip = badakhan_adm_counter_6_tt
				}
			}
			ai_chance = {
				
			}
		}
		confront_amriels_ethos = {
			icon = GFX_study_western_manufacturing
			gui = "egyptian_westernization_interaction_button"
			cost_type = badakhan_orcish_soul_struggle
			cost = 40
			trigger = {
				custom_trigger_tooltip = {
					tooltip = badkhan_soul_struggle_trigger_tt
					NOT = { 
						check_variable = {
							which = badakhan_dip_var
							value = 5
						}
					}
				}
            }
			effect = {
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = badakhan_dip_var
								value = 1
							}
						}
					}
					custom_tooltip = badakhan_dip_counter_1_tt
					
					hidden_effect = {
						set_variable = {
							which = badakhan_dip_var
							value = 1
						}
						add_country_modifier = {
							name = badakhan_dip_debuff_1
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_dip_debuff_2
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_dip_debuff_3
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_dip_debuff_4
							duration = -1
							hidden = yes
						}
						set_country_flag = improve_development_on_buildings_built
						set_variable = {
							which = badakhan_dip_var
							value = 1
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_dip_var
							value = 1
						}
					}
					custom_tooltip = badakhan_dip_counter_2_tt
					hidden_effect = {
						remove_country_modifier = badakhan_dip_debuff_1
						set_variable = {
							which = badakhan_dip_var
							value = 2
						}
					}		
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_dip_var
							value = 2
						}
					}
					custom_tooltip = badakhan_dip_counter_3_tt
					define_advisor = {
						type = statesman
						skill = 3
						discount = yes
					}
					hidden_effect = {
						remove_country_modifier = badakhan_dip_debuff_2
						set_variable = {
							which = badakhan_dip_var
							value = 3
						}
					}	
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_dip_var
							value = 3
						}
					}
					custom_tooltip = badakhan_dip_counter_4_tt
					change_dip = 1
					hidden_effect = {
						remove_country_modifier = badakhan_dip_debuff_3
						set_variable = {
							which = badakhan_dip_var
							value = 4
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_dip_var
							value = 4
						}
					}
					custom_tooltip = badakhan_dip_counter_5_tt
					add_mercantilism = 5
					badakhan_confront_amriel = yes
					hidden_effect = {
						remove_country_modifier = badakhan_dip_debuff_4
						set_variable = {
							which = badakhan_dip_var
							value = 5
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_dip_var
							value = 5
						}
					}
					custom_tooltip = badakhan_dip_counter_6_tt
				}
			}
			ai_chance = {
				
			}
		}
		confront_amriels_reality = {
			icon = GFX_study_western_military
			gui = "egyptian_westernization_interaction_button"
			cost_type = badakhan_orcish_soul_struggle
			cost = 40
			trigger = {
				custom_trigger_tooltip = {
					tooltip = badkhan_soul_struggle_trigger_tt
					NOT = { 
						check_variable = {
							which = badakhan_mil_var
							value = 5
						}
					}
				}
            }
			effect = {
				if = {
					limit = { 
						NOT = {
							check_variable = {
								which = badakhan_mil_var
								value = 1
							}
						}
					}
					custom_tooltip = badakhan_mil_counter_1_tt
					hidden_effect = {
						set_variable = {
							which = badakhan_mil_var
							value = 1
						}
						add_country_modifier = {
							name = badakhan_mil_debuff_1
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_mil_debuff_2
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_mil_debuff_3
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_mil_debuff_4
							duration = -1
							hidden = yes
						}
						add_country_modifier = {
							name = badakhan_mil_bonus
							duration = -1
							hidden = yes
						}
						set_variable = {
							which = badakhan_mil_var
							value = 1
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_mil_var
							value = 1
						}
					}
					custom_tooltip = badakhan_mil_counter_2_tt
					hidden_effect = {
						remove_country_modifier = badakhan_mil_debuff_1
						set_variable = {
							which = badakhan_mil_var
							value = 2
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_mil_var
							value = 2
						}
					}
					custom_tooltip = badakhan_mil_counter_3_tt
					define_advisor = {
						type = army_reformer
						skill = 3
						discount = yes
					}
					hidden_effect = {
						remove_country_modifier = badakhan_mil_debuff_2
						set_variable = {
							which = badakhan_mil_var
							value = 3
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_mil_var
							value = 3
						}
					}
					custom_tooltip = badakhan_mil_counter_4_tt
					change_mil = 1
					hidden_effect = {
						remove_country_modifier = badakhan_mil_debuff_3
						set_variable = {
							which = badakhan_mil_var
							value = 4
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_mil_var
							value = 4
						}
					}
					custom_tooltip = badakhan_mil_counter_5_tt
					add_army_professionalism = 0.05
					add_army_tradition = 5
					badakhan_confront_amriel = yes
					hidden_effect = {
						remove_country_modifier = badakhan_mil_debuff_4
						set_variable = {
							which = badakhan_mil_var
							value = 5
						}
					}
				}
				else_if = {
					limit = {
						is_variable_equal = {
							which = badakhan_mil_var
							value = 5
						}
					}
					custom_tooltip = badakhan_mil_counter_6_tt
				}
			}
			ai_chance = {
				
			}
		}
	}
}