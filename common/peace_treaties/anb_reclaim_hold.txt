# THIS is the Taker and FROM the Giver in all scopes unless otherwise stated
# FROM = The dude that receive it THIS = The dude that launch
po_reclaim_hold = {
	# The following strings need localization:
	#		"make_dummy_desc" (uses text processing, supporting bracket notation) ("[FROM.GetName] becomes a [THIS.GetName] Dummy")
	#		"CB_ALLOWED_make_dummy" (uses plain localization) ("Enforced Dumbness")
	#		"PEACE_make_dummy" (uses plain localization, but with support for $TAKER$, $TAKERS$, $GIVER$ and $GIVERS$) ("Become $TAKERS$ Dummy")

	# Values default to 0 or "no" unless otherwise stated
	category = 6
	power_projection = humiliated_rival
	power_cost_base = 0
	prestige_base = 0.15
	ae_base = 0.3
	warscore_cost = {
		all_provinces = 10.0
		no_provinces = 0.0
		owner_keeps = 0.0
		conquered = 0.0
		returned_core = 0.0
		released_nation = 0.0
		cancelled_subject = 0.0
		concede_colonial_region = 0.0
	}
	warscore_cap = 100
	requires_demand_independence = no
	is_make_subject = no
	requires_is_allowed = yes

	is_visible = {
		tag = I14
		is_in_war = { casus_belli = cb_reclaim_hold }
		FROM = {
			OR = {
				owns = 4236
				owns = 2931
				owns = 4119
				owns = 4147
				owns = 2868
				owns = 4100
				owns = 4247
				owns = 4265
			}
		}
	}
	is_allowed = {
		always = yes
	}
	effect = {
		FROM = {
			if = {
				limit = { has_dwarovkron_fragment = yes }
				transfer_dwarovkron_fragments = yes
			}
		}

		if = {
			limit = {
				FROM = { owns = 4236 }
				is_in_war = { war_goal_province = 4236 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4236
					released_tag = I05
					culture = mithril_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 2931 }
				is_in_war = { war_goal_province = 2931 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 2931
					released_tag = I06
					culture = dagrite_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 4119 }
				is_in_war = { war_goal_province = 4119 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4119
					released_tag = I01
					culture = kronium_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 4147 }
				is_in_war = { war_goal_province = 4147 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4147
					released_tag = I04
					culture = ramsteel_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 2868 }
				is_in_war = { war_goal_province = 2868 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 2868
					released_tag = I08
					culture = platinum_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 4100 }
				is_in_war = { war_goal_province = 4100 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4100
					released_tag = I13
					culture = flint_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 4247 }
				is_in_war = { war_goal_province = 4247 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4247
					released_tag = H79
					culture = amber_dwarf
				}
			}
		}
		else_if = {
			limit = {
				FROM = { owns = 4265 }
				is_in_war = { war_goal_province = 4265 }
			}
			FROM = {
				gor_vazumbrog_restore_hold = {
					hold_province = 4265
					released_tag = I18
					culture = peridot_dwarf
				}
			}
		}

		custom_tooltip = cb_reclaim_hold_tooltip

		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 30
		}
	}
	ai_weight = {
		export_to_variable = {
			variable_name = ai_value # Mandatory to have entry called "ai_value". Its value at the end of the ai_weight scope is what will be used
			value = trigger_value:always
		}
		set_variable = {
			ai_value = 5000
		}
		limit = { # if limit evaluates false, ai_weight will evaluate to 0 regardless
			always = yes
		}
	}
}