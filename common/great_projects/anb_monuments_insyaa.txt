stormwall_canal = {
	# province it starts in
	start = 3580

	# random guess, doesn't need to be canon
	date = 1650.01.01

	#time to build
	time = {
		months = 1
	}

	#how much to build one
	build_cost = 1

	#can we move it?
	can_be_moved = no

	#tier that the project starts at when first placed in the game (be that at game start or when built by a country as the game progresses)
	starting_tier = 1

	#project type
	type = canal

	#can we build it?
	build_trigger = {
		always = no
	}

}

kakunor_cloud_city = {
	start = 3675

	date = 1.1.1

	time = {
		months = 120
	}

	build_cost = 0

	can_be_moved = no

	starting_tier = 0

	#project type
	type = monument

	build_trigger = {
	}

	on_built = {
	}

	on_destroyed = {
	}

	can_use_modifiers_trigger = {
		religion_group = utubodi_religion
		owner = { religion_group = utubodi_religion }
	}

	can_upgrade_trigger = {
		religion_group = utubodi_religion
		owner = { religion_group = utubodi_religion }
		if = {
			limit = { owner = { ai = no } }
			if = {
				limit = {
					has_great_project = {
						type = kakunor_cloud_city
						tier = 2
					}
				}
				owner = {
					check_variable = {
						which = utubodiKakunorGrainVar
						value = 8
					}
					check_variable = {
						which = utubodiKakunorWoolVar
						value = 3
					}
					check_variable = {
						which = utubodiKakunorIronVar
						value = 2
					}
					check_variable = {
						which = utubodiKakunorIncenseVar
						value = 2
					}
					check_variable = {
						which = utubodiKakunorFurVar
						value = 1
					}
					check_variable = {
						which = utubodiKakunorCopperVar
						value = 1
					}
					check_variable = {
						which = utubodiKakunorDamestearVar
						value = 1
					}
				}
			}
			else_if = {
				limit = {
					has_great_project = {
						type = kakunor_cloud_city
						tier = 1
					}
				}
				owner = {
					check_variable = {
						which = utubodiKakunorGrainVar
						value = 5
					}
					check_variable = {
						which = utubodiKakunorExWoodVar
						value = 2
					}
					check_variable = {
						which = utubodiKakunorWoolVar
						value = 2
					}
					check_variable = {
						which = utubodiKakunorClothVar
						value = 1
					}
					check_variable = {
						which = utubodiKakunorIronVar
						value = 1
					}
					check_variable = {
						which = utubodiKakunorIncenseVar
						value = 1
					}
				}
			}
			else = {
				owner = {
					check_variable = {
						which = utubodiKakunorGrainVar
						value = 2
					}
					check_variable = {
						which = utubodiKakunorLivestockVar
						value = 1
					}
					check_variable = {
						which = utubodiKakunorWoolVar
						value = 1
					}
				}
			}
		}
		else = {
			if = {
				limit = {
					has_great_project = {
						type = kakunor_cloud_city
						tier = 2
					}
				}
				owner = {
					grain = 8
					wool = 3
					iron = 2
					incense = 2
					fur = 1
					copper = 1
					damestear = 1
				}
			}
			else_if = {
				limit = {
					has_great_project = {
						type = kakunor_cloud_city
						tier = 1
					}
				}
				owner = {
					grain = 5
					tropical_wood = 2
					wool = 2
					cloth = 1
					iron = 1
					incense = 1
				}
			}
			else = {
				owner = {
					grain = 2
					livestock = 1
					wool = 1
				}
			}
		}
	}

	keep_trigger = {
	}

	#tier data
	tier_0 = {
		upgrade_time = {
			months = 0
		}

		cost_to_upgrade = {
			factor = 0
		}

		province_modifiers = {
		}

		area_modifier = {
		}

		country_modifiers = {

		}

		on_upgraded = {
		}
	}

	tier_1 = {
		upgrade_time = {
			months = 120
		}

		cost_to_upgrade = {
			factor = 0
		}

		province_modifiers = {
			
		}

		area_modifier = {
			
		}

		country_modifiers = {
			
		}

		on_upgraded = {
			set_province_flag = kakunorTier1flag
			owner = {
				custom_tooltip = utubodi_unification_explanation_tooltip
				capital_scope = { remove_province_modifier = utubodi_unification_unrest }
				every_neighbor_province = {
					add_claim = PREV
				}
				every_neighbor_country = {
					reverse_add_casus_belli = {
						type = cb_vassalize_mission
						target = PREV
						months = 3600 #300 years, because pdx is stupid
					}
				}
			}
		}
	}

	tier_2 = {
		upgrade_time = {
			months = 120
		}

		cost_to_upgrade = {
			factor = 0
		}

		province_modifiers = {
			
		}

		area_modifier = {
			
		}

		country_modifiers = {
			
		}

		on_upgraded = {
			set_province_flag = kakunorTier2flag
			clr_province_flag = kakunorTier1flag
			owner = {
				custom_tooltip = utubodi_unification_explanation_tooltip
				capital_scope = { remove_province_modifier = utubodi_unification_unrest }
				every_neighbor_province = {
					add_claim = PREV
				}
				every_neighbor_country = {
					reverse_add_casus_belli = {
						type = cb_vassalize_mission
						target = PREV
						months = 3600 #300 years, because pdx is stupid
					}
				}
			}
		}
	}

	tier_3 = {
		
		upgrade_time = {
			months = 120
		}

		cost_to_upgrade = {
			factor = 0
		}

		province_modifiers = {
			
		}

		area_modifier = {
			
		}

		country_modifiers = {
			
		}

		on_upgraded = {
			set_province_flag = kakunorTier3flag
			clr_province_flag = kakunorTier2flag
			owner = {
				custom_tooltip = utubodi_unification_explanation_tooltip
				if = {
					limit = { ai = no }
					if = {
						limit = {
							check_variable = {
								which = utubodiKakunorKarma
								value = 0
							}
						}
						change_tag = N76
					}
					else = {
						change_tag = N77
					}
				}
				else = {
					random_list = {
						50 = {
							modifier = {
								factor = 3
								has_country_modifier = human_administration
							}
							modifier = {
								factor = 2
								has_country_modifier = human_military
							}
							change_tag = N76
						}
						50 = {
							modifier = {
								factor = 3
								has_country_modifier = ogre_administration
							}
							modifier = {
								factor = 2
								has_country_modifier = ogre_military
							}
							change_tag = N77
						}
					}
				}
				add_country_modifier = {
					name = "centralization_modifier"
					duration = 7300
				}
				if = {
					limit = {
						has_custom_ideas = no
					}
					country_event = { id = ideagroups.1 } #Swap Ideas
				}
				
				capital_scope = { remove_province_modifier = utubodi_unification_unrest }
				every_neighbor_province = {
					add_claim = PREV
				}
				every_neighbor_country = {
					reverse_add_casus_belli = {
						type = cb_vassalize_mission
						target = PREV
						months = 3600 #300 years, because pdx is stupid
					}
				}
			}
		}
	}
}