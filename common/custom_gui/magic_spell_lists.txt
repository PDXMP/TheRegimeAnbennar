### Constant values - EU4 convert @word to the specified value
#Used to specify the magic school icon shown
@abjuration_icon = 1
@conjuration_icon = 2
@divination_icon = 3
@enchantment_icon = 4
@evocation_icon = 5
@illusion_icon = 6
@necromancy_icon = 7
@transmutation_icon = 8
@blank_icon = 9

################
#
# Custom spell lists
#
#
################

# Magical Traditions custom_gui file

##### Specific instructions
# Your Magical Traditions 'spell list' must have a name, consisting of:
#	- a 'group': the name of the custom magic group
#	- a 'subgroup': the specific name of your list
# ( the base list in each custom magic group must have subgroup = default )
# 	- Each spell must have an associated school of magic - one of the 8 schools of magic
#		- abjuration, conjuration, divination, enchantment, evocation, illusion, necromancy, or transmutation
# These properties will be used across all scripted effects and triggers

# To create your custom UI:
# 1. Define your custom_window
#	- Navigate to the "Spell list windows" section of this file
#	- Copy an existing 'custom_window' definition, place it in the correct 'group' section, and edit to match your spell list
#	- The 'name' field has the format 'magic_list_<group>_<subgroup>'
# 2. Define the buttons for your spell list
#	- Copy the entire 'magic_list_template_default' section into the correct 'group' section of the file for your list
#	- Remove extra unnecessary custom_button definitions
#	- IMPORTANT: Do not remove the 'custom_text_box' definitions unless you have also removed the corresponding custom_button
#	- Rename the custom_button (and corresponding custom_text_box) names to your new spell list
#		- This has the format magic_list_<group>_<spellnumber>_button_<subgroup>
# 3. Add your triggers, effects and tooltips
#	- Rename the triggers, effects, and tooltips according to the following format:
#		- magical_tradition_spell_trigger = { group = <group> subgroup = <subgroup> slot = <spell_number> player = yes }
#		- magical_tradition_cast_spell = { school = <magic_school> level = <spell_level> id = <group>_<subgroup>_<spell_number> }
#		- magical_tradition_on_spell_cast_effect = { group = <group> }
# 4. Define your buttons in topbar.gui
#	- Find the section labelled '### #Magical Traditions# ###'


##### General instructions
# - The name field must match the respective element in topbar.gui
#    - custom_window = windowType
#    - custom_button = guiButtonType
#    - custom_text_box = instantTextBoxType
#    - custom_icon = iconType
#
##### Definitions
# The default scope is ROOT = the player country scope - therefore use country scope triggers and effects
# potential: This trigger controls when the element is visible
# trigger: Used for custom_button - controls when the button is clickable
# effect: The effect of the button. Accepts custom_tooltip
# tooltip: Uses a loc key to display as a tooltip. Can put custom loc inside the loc string
#	- Note: you must include "tooltip = <loc_key>" in every definition of the same name. Explained below.
# frame: controls which segment of the button/icon image is shown. First true trigger is used.
#	- number:	the frame of the strip to display for the icon or button
#				the percentage the progressbar will be filled
#	- trigger: the conditions under which the frame number will be used
#
#
# Please copy the respective template and replace all instances of the same name within the template
# Each spell list will need 1 custom_window
#
# !ATTN Developers and Code Reviewers: Warning!
#	Due to bugs in topbar.gui, each custom_button, custom_text_box, and custom_icon
#	requires additional definitions of the same name
# 	The required definitions have been grouped in the template for convenience
#
#	Each custom_button requires an additional custom_text_box (you must include "tooltip = <loc_key>" in both)
#	Each custom_text_box requires an additional custom_button
#	Each custom_icon requires both a custom_button and custom_text_box
#
# Troubleshooting
# - EU4 crashes on loading into a game
#	- Check your brackets in topbar.gui, UI code is very sensitive and prone to crashing
#	- Check there aren't two elements with the exact same name.
#	- Check you didn't leave template code with an unchanged name. Block comment template code you aren't using yet.
# - Tooltips aren't working
#	- Ensure you have put the "tooltip = <loc_key>" from the custom_button definition in the matching custom_text_box definition
# - Game crashes when reloading topbar.gui
#	- Goodluck
# - The "reloadloc" isn't working for my button text
#	- Unfortunately, it doesn't work for button text


#Textboxes (do not need to be modified)
custom_button = { name = custom_spell_text_slot_1 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_1_subtitle potential = { always = no }}
custom_button = { name = custom_spell_text_slot_2 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_2_subtitle potential = { always = no }}
custom_button = { name = custom_spell_text_slot_3 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_3_subtitle potential = { always = no }}
custom_button = { name = custom_spell_text_slot_4 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_4_subtitle potential = { always = no }}
custom_button = { name = custom_spell_text_slot_5 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_5_subtitle potential = { always = no }}
custom_button = { name = custom_spell_text_slot_6 potential = { always = no }}
custom_button = { name = custom_spell_text_slot_6_subtitle potential = { always = no }}
custom_text_box = { name = custom_spell_text_slot_1 }
custom_text_box = { name = custom_spell_text_slot_1_subtitle }
custom_text_box = { name = custom_spell_text_slot_2 }
custom_text_box = { name = custom_spell_text_slot_2_subtitle }
custom_text_box = { name = custom_spell_text_slot_3 }
custom_text_box = { name = custom_spell_text_slot_3_subtitle }
custom_text_box = { name = custom_spell_text_slot_4 }
custom_text_box = { name = custom_spell_text_slot_4_subtitle }
custom_text_box = { name = custom_spell_text_slot_5 }
custom_text_box = { name = custom_spell_text_slot_5_subtitle }
custom_text_box = { name = custom_spell_text_slot_6 }
custom_text_box = { name = custom_spell_text_slot_6_subtitle }


custom_text_box = { name = magic_menu_button_custom_magic_lists_button }
custom_button = {
	name = magic_menu_button_custom_magic_lists_button
	trigger = { has_any_custom_spell_list = yes }
	effect = {
		set_country_flag = show_custom_spell_list
	}
	tooltip = magic_menu_button_custom_magic_lists_button_desc
}
custom_button = { name = magic_menu_button_custom_magic_lists_text }
custom_text_box = {
	name = magic_menu_button_custom_magic_lists_text
}

#Parent container
custom_window = {
	name = magic_menu_custom_spell_lists_container
	potential = {
		has_country_flag = show_custom_spell_list #Set by button, show the window containing all custom spell lists
		has_any_custom_spell_list = yes
	}
}
#Textboxes container
custom_window = {
	name = magic_menu_custom_spells_textbox_container
	potential = {
		has_any_custom_spell_list = yes
	}
}

#####
# Spell list windows
####
#template lists
custom_window = { #template container
	name = magic_list_template
	potential = { has_custom_spell_list_of_group = { group = template } }
}
custom_window = { #template tag_specific_example
	name = magic_list_template_tag_specific_example
	potential = { has_custom_spell_list_of_group_with_subgroup = { group = template subgroup = tag_specific_example } }
}
custom_window = { #template default
	name = magic_list_template_default
	potential = {
		has_template_spell_list_default = yes
	}
}
#arpy spells
custom_window = { #template container
	name = magic_list_harpy
	potential = { has_custom_spell_list_of_group = { group = harpy } }
}
custom_window = { #template default
	name = magic_list_harpy_default
	potential = {
		has_harpy_spell_list_default = yes
	}
}

#Bulwari spells
custom_window = { #template container
	name = magic_list_bulwar
	potential = { has_custom_spell_list_of_group = { group = bulwar } }
}
custom_window = { #template default
	name = magic_list_bulwar_default
	potential = {
		has_bulwar_spell_list_default = yes
	}
}

#End custom spell book/list containers

#Template spell buttons
##magic_list_template_default
custom_text_box = { name = magic_list_template_1_button_default }
custom_button = {
	name = magic_list_template_1_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 1 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 0 id = template_default_1 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_1_default_desc
}
custom_text_box = { name = magic_list_template_2_button_default }
custom_button = {
	name = magic_list_template_2_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 2 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 1 id = template_default_2 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_2_default_desc
}
custom_text_box = { name = magic_list_template_3_button_default }
custom_button = {
	name = magic_list_template_3_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 3 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 1 id = template_default_3 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_3_default_desc
}
custom_text_box = { name = magic_list_template_4_button_default }
custom_button = {
	name = magic_list_template_4_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 4 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 2 id = template_default_4 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_4_default_desc
}
custom_text_box = { name = magic_list_template_5_button_default }
custom_button = {
	name = magic_list_template_5_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 5 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 2 id = template_default_5 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_5_default_desc
}
custom_text_box = { name = magic_list_template_6_button_default }
custom_button = {
	name = magic_list_template_6_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = default slot = 6 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 3 id = template_default_6 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_6_default_desc
}
##magic_list_template_tag_specific_example
custom_text_box = { name = magic_list_template_1_button_tag_specific_example }
custom_button = {
	name = magic_list_template_1_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 1 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 0 id = template_tag_specific_example_1 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_1_tag_specific_example_desc
}
custom_text_box = { name = magic_list_template_2_button_tag_specific_example }
custom_button = {
	name = magic_list_template_2_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 2 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 1 id = template_tag_specific_example_2 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_2_tag_specific_example_desc
}
custom_text_box = { name = magic_list_template_3_button_tag_specific_example }
custom_button = {
	name = magic_list_template_3_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 3 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 1 id = template_tag_specific_example_3 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_3_tag_specific_example_desc
}
custom_text_box = { name = magic_list_template_4_button_tag_specific_example }
custom_button = {
	name = magic_list_template_4_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 4 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 2 id = template_tag_specific_example_4 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_4_tag_specific_example_desc
}
custom_text_box = { name = magic_list_template_5_button_tag_specific_example }
custom_button = {
	name = magic_list_template_5_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 5 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 2 id = template_tag_specific_example_5 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_5_tag_specific_example_desc
}
custom_text_box = { name = magic_list_template_6_button_tag_specific_example }
custom_button = {
	name = magic_list_template_6_button_tag_specific_example
	trigger = {
		magical_tradition_spell_trigger = { group = template subgroup = tag_specific_example slot = 6 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = illusion level = 3 id = template_tag_specific_example_6 }
		magical_tradition_on_spell_cast_effect = { group = template }
	}
	tooltip = magic_list_template_spell_6_tag_specific_example_desc
}

custom_text_box = { name = magic_list_harpy_1_button_default }
custom_button = {
	name = magic_list_harpy_1_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = harpy subgroup = default slot = 1 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = enchantment level = 0 id = harpy_default_1 }
		magical_tradition_on_spell_cast_effect = { group = harpy }
	}
	tooltip = magic_list_harpy_spell_1_default_desc
}
custom_text_box = { name = magic_list_harpy_2_button_default }
custom_button = {
	name = magic_list_harpy_2_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = harpy subgroup = default slot = 2 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = evocation level = 2 id = harpy_default_2 war = yes }
		magical_tradition_on_spell_cast_effect = { group = harpy }
	}
	tooltip = magic_list_harpy_spell_2_default_desc
}
custom_text_box = { name = magic_list_harpy_3_button_default }
custom_button = {
	name = magic_list_harpy_3_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = harpy subgroup = default slot = 3 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = transmutation level = 2 id = harpy_default_3 }
		magical_tradition_on_spell_cast_effect = { group = harpy }
	}
	tooltip = magic_list_harpy_spell_3_default_desc
}
custom_text_box = { name = magic_list_harpy_4_button_default }
custom_button = {
	name = magic_list_harpy_4_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = harpy subgroup = default slot = 4 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = enchantment level = 3 id = harpy_default_4 }
		magical_tradition_on_spell_cast_effect = { group = harpy }
	}
	tooltip = magic_list_harpy_spell_4_default_desc
}

#Black Herd
custom_window = { #template tag_specific_example
	name = magic_list_centaur_black_herd
	potential = { has_custom_spell_list_of_group_with_subgroup = { group = centaur subgroup = black_herd } }
}
custom_text_box = { name = magic_list_centaur_5_button_black_herd }
custom_button = {
	name = magic_list_centaur_5_button_black_herd
	trigger = {
		magical_tradition_spell_trigger = {
			group = centaur
			subgroup = black_herd
			slot = 5
			player = yes
		}
	}
	effect = {
		magical_tradition_cast_spell = {
			school = evocation
			level = 2
			id = centaur_black_herd_5
			has_spell_specific_discounts = yes
			war = yes
		}
		magical_tradition_on_spell_cast_effect = { group = centaur }
	}
	tooltip = magic_list_centaur_spell_5_black_herd_desc
}
#bulwar spells
custom_text_box = { name = magic_list_bulwar_1_button_default }
custom_button = {
	name = magic_list_bulwar_1_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = bulwar subgroup = default slot = 1 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = transmutation level = 3 id = bulwar_default_1 }
		magical_tradition_on_spell_cast_effect = { group = bulwar }
	}
	tooltip = magic_list_bulwar_spell_1_default_desc
}
custom_text_box = { name = magic_list_bulwar_2_button_default }
custom_button = {
	name = magic_list_bulwar_2_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = bulwar subgroup = default slot = 2 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = enchantment level = 2 id = bulwar_default_2 }
		magical_tradition_on_spell_cast_effect = { group = bulwar }
	}
	tooltip = magic_list_bulwar_spell_2_default_desc
}
custom_text_box = { name = magic_list_bulwar_3_button_default }
custom_button = {
	name = magic_list_bulwar_3_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = bulwar subgroup = default slot = 3 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = conjuration level = 1 id = bulwar_default_3 }
		magical_tradition_on_spell_cast_effect = { group = bulwar }
	}
	tooltip = magic_list_bulwar_spell_3_default_desc
}
custom_text_box = { name = magic_list_bulwar_4_button_default }
custom_button = {
	name = magic_list_bulwar_4_button_default
	trigger = {
		magical_tradition_spell_trigger = { group = bulwar subgroup = default slot = 4 player = yes }
	}
	effect = {
		magical_tradition_cast_spell = { school = transmutation level = 2 id = bulwar_default_4 }
		magical_tradition_on_spell_cast_effect = { group = bulwar }
	}
	tooltip = magic_list_bulwar_spell_4_default_desc
}

