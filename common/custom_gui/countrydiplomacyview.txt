custom_icon = {
	name = ruler_race_icon
	potential = {
		always = yes
	}
	frame = {
		number = 1
		trigger = {
			OR = {
				ruler_is_lich = yes
				ruler_is_exposed_vampire = yes
			}
		}
	}
	frame = {
		number = 2
		trigger = { fast_ruler_is_halfling = yes }
	}
	frame = {
		number = 3
		trigger = { fast_ruler_is_dwarven = yes }
	}
	frame = {
		number = 4
		trigger = { fast_ruler_is_gnomish = yes }
	}
	frame = {
		number = 5
		trigger = { fast_ruler_is_orcish = yes }
	}
	frame = {
		number = 6
		trigger = { fast_ruler_is_kobold = yes }
	}
	frame = {
		number = 7
		trigger = { fast_ruler_is_half_orcish = yes }
	}
	frame = {
		number = 8
		trigger = { fast_ruler_is_human = yes }
	}
	frame = {
		number = 9
		trigger = { fast_ruler_is_gnollish = yes }
	}
	frame = {
		number = 10
		trigger = { fast_ruler_is_ruinborn = yes }
	}
	frame = {
		number = 11
		trigger = { fast_ruler_is_goblin = yes }
	}
	frame = {
		number = 12
		trigger = { fast_ruler_is_harpy = yes }
	}
	frame = {
		number = 13
		trigger = { fast_ruler_is_troll = yes }
	}
	frame = {
		number = 14
		trigger = { fast_ruler_is_half_elven = yes }
	}
	frame = {
		number = 15
		trigger = { fast_ruler_is_harimari = yes }
	}
	frame = {
		number = 16
		trigger = { fast_ruler_is_hobgoblin = yes }
	}
	frame = {
		number = 17
		trigger = { fast_ruler_is_centaur = yes }
	}
	frame = {
		number = 18
		trigger = { fast_ruler_is_ogre = yes }
	}
	frame = {
		number = 19
		trigger = { fast_ruler_is_lizardfolk = yes }
	}
	frame = {
		number = 20
		trigger = { fast_ruler_is_elven = yes }
	}
	frame = {
		number = 21
		trigger = { fast_ruler_is_mechanim = yes }
	}
	tooltip = ruler_race_icon_tt
}

custom_icon = {
	name = ruler_is_mage_icon
	potential = {
		ruler_is_powerful_mage = yes
	}
}
custom_text_box = {
	name = raj_text_cohesion_diplo
	potential = {
		OR = {
			is_the_raja = yes
			overlord = { is_the_raja = yes }
		}
	}
	tooltip = estate_raj_ministries_raj_cohesion_desc
}

custom_text_box = {
	name = lake_fed_info_cohesion_diplo
	potential = {
		OR = {
			is_lake_federation_leader = yes
			has_country_modifier = lake_federation_member
		}
		government = republic
		NOT = { tag = J33 } #Kalsyto
	}
	tooltip = lake_federation_cohesion_tt
}

custom_text_box = {
	name = lake_fed_info_cohesion_not_republic
	potential = {
		OR = {
			is_lake_federation_leader = yes
			has_country_modifier = lake_federation_member
		}
		NOT = { government = republic }
		NOT = { tag = J33 } #Kalsyto
	}
	tooltip = lake_federation_cohesion_tt
}

custom_text_box = {
	name = lake_fed_info_diplo
	potential = {
		OR = {
			is_lake_federation_leader = yes
			has_country_modifier = lake_federation_member
		}
		government = republic
		NOT = { tag = J33 } #Kalsyto
	}
	tooltip = lake_fed_info_diplo_tt
}

custom_text_box = {
	name = lake_fed_info_diplo_not_republic
	potential = {
		OR = {
			is_lake_federation_leader = yes
			has_country_modifier = lake_federation_member
		}
		NOT = { government = republic }
		NOT = { tag = J33 } #Kalsyto
	}
	tooltip = lake_fed_info_diplo_tt
}
custom_text_box = {
	name = mages_custom_stat_value
	potential = { always = yes }
}


custom_button = {
	name = mages_custom_stat_tt
	# tooltip = mages_diplo_infrastructure
	tooltip = magic_diplo_magic_level
	effect = {
		custom_tooltip = mages_diplo_magic_levels_summary
		custom_tooltip = string_empty
		custom_tooltip = mages_diplo_infrastructure
		custom_tooltip = mages_diplo_mana
		custom_tooltip = string_empty
		custom_tooltip = mages_diplo_project_progress
	}
}

#Custom diplomacy interactions
## Custom diplo tab button
custom_window = {
	name = custom_diplomacy_window
	potential = {
		FROM = {
			has_country_flag = show_custom_diplo_flag
		}
		NOT = { tag = FROM }
	}
}
custom_button = { # show_custom_diplomacy
	name = show_custom_diplomacy
	tooltip = open_custom_diplo_actions_tt
	potential = {
		NOT = { FROM = { has_country_flag = show_custom_diplo_flag } }
	}
	trigger = { hidden_trigger = { NOT = { tag = FROM } } }
	effect = {
		FROM = {
			if = {
				limit = { has_country_flag = show_custom_diplo_flag }
				clr_country_flag = show_custom_diplo_flag
			}
			else = {
				set_country_flag = show_custom_diplo_flag
			}
		}
	}
	frame = {
		number = 1
		trigger = {
			OR = {
				FROM = {
					NOT = { has_country_flag = show_custom_diplo_flag }
				}
				tag = FROM
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = {
				has_country_flag = show_custom_diplo_flag
			}
		}
	}
}

#For the hotkey
custom_button = { # custom_diplomacy_close
	name = custom_diplomacy_close
	potential = {
		FROM = { has_country_flag = show_custom_diplo_flag }
	}
	effect = {
		FROM = {
			trigger_switch = {
				on_trigger = has_country_flag
				show_diplo_general = { clr_country_flag = show_diplo_general }
				show_diplo_government = { clr_country_flag = show_diplo_government }
				show_diplo_religion = { clr_country_flag = show_diplo_religion }
				show_diplo_cultural = { clr_country_flag = show_diplo_cultural }
				show_diplo_estates = { clr_country_flag = show_diplo_estates }
				show_diplo_unique = { clr_country_flag = show_diplo_unique }
				#Like a fallback
				show_custom_diplo_flag = { clr_country_flag = show_custom_diplo_flag }
			}
		}
	}
}
custom_button = {
	name = diplomatic_opinions_button_grey
	potential = {
		OR = {
			has_dlc = "Leviathan"
			has_dlc = "The Cossacks"
		}
	}
	effect = { }
}
custom_button = { # show_custom_diplomacy
	name = custom_diplomacy_button_in_ui
	tooltip = open_custom_diplo_actions_tt
	trigger = { }
	effect = {
		FROM = {
			if = {
				limit = { has_country_flag = show_custom_diplo_flag }
				clr_country_flag = show_custom_diplo_flag
			}
			else = {
				set_country_flag = show_custom_diplo_flag
			}
		}
	}
	frame = {
		number = 1
		trigger = {
			OR = {
				FROM = {
					NOT = { has_country_flag = show_custom_diplo_flag }
				}
				tag = FROM
			}
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = {
				has_country_flag = show_custom_diplo_flag
			}
		}
	}
}

#To close the current list by clicking the header
custom_button = { # custom_diplomacy_back
	name = custom_diplomacy_back
	potential = {
		FROM = {
			OR = {
				has_country_flag = show_diplo_general
				has_country_flag = show_diplo_government
				has_country_flag = show_diplo_religion
				has_country_flag = show_diplo_cultural
				has_country_flag = show_diplo_estates
				has_country_flag = show_diplo_unique
			}
		}
	}
	effect = {
		FROM = {
			trigger_switch = {
				on_trigger = has_country_flag
				show_diplo_general = { clr_country_flag = show_diplo_general }
				show_diplo_government = { clr_country_flag = show_diplo_government }
				show_diplo_religion = { clr_country_flag = show_diplo_religion }
				show_diplo_cultural = { clr_country_flag = show_diplo_cultural }
				show_diplo_estates = { clr_country_flag = show_diplo_estates }
				show_diplo_unique = { clr_country_flag = show_diplo_unique }
			}
		}
	}
}

# Currently fairly broken
# custom_button = { # custom_diplomacy_left
	# name = custom_diplomacy_left
	# tooltip = custom_diplo_previous
	# effect = {
	# 	hidden_effect = {
	# 		FROM = {
	# 			trigger_switch = {
	# 				on_trigger = has_country_flag
	# 				show_diplo_general = {
	# 					custdip_category_sort_general = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @general_last_container } }
	# 						custdip_category_sort_general = { descending = yes }
	# 					}
	# 				}
	# 				show_diplo_government = {
	# 					custdip_category_sort_government = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @government_last_container } }
	# 						custdip_category_sort_government = { descending = yes }
	# 					}
	# 				}
	# 				show_diplo_religion = {
	# 					custdip_category_sort_religion = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @religion_last_container } }
	# 						custdip_category_sort_religion = { descending = yes }
	# 					}
	# 				}
	# 				show_diplo_cultural = {
	# 					custdip_category_sort_cultural = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @cultural_last_container } }
	# 						custdip_category_sort_cultural = { descending = yes }
	# 					}
	# 				}
	# 				show_diplo_estates = {
	# 					custdip_category_sort_estates = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @estates_last_container } }
	# 						custdip_category_sort_estates = { descending = yes }
	# 					}
	# 				}
	# 				show_diplo_unique = {
	# 					custdip_category_sort_unique = { descending = yes }
	# 					if = {
	# 						limit = { is_variable_equal = { which = show_diplo_container value = @unique_last_container } }
	# 						custdip_category_sort_unique = { descending = yes }
	# 					}
	# 				}
	# 			}
	# 		}
	# 	}
	# }
# }
custom_button = { # custom_diplomacy_right
	name = custom_diplomacy_right
	tooltip = custom_diplo_next
	potential = {
		FROM = {
			OR = {
				has_country_flag = show_diplo_general
				has_country_flag = show_diplo_government
				has_country_flag = show_diplo_religion
				has_country_flag = show_diplo_cultural
				has_country_flag = show_diplo_estates
				has_country_flag = show_diplo_unique
			}
		}
	}
	effect = {
		hidden_effect = {
			FROM = {
				trigger_switch = {
					on_trigger = has_country_flag
					show_diplo_general = { custdip_show_next_window = { category = general } }
					show_diplo_government = { custdip_show_next_window = { category = government } }
					show_diplo_religion = { custdip_show_next_window = { category = religion } }
					show_diplo_cultural = { custdip_show_next_window = { category = cultural } }
					show_diplo_estates = { custdip_show_next_window = { category = estates } }
					show_diplo_unique = { custdip_show_next_window = { category = unique } }
				}
			}
		}
	}
}

#Container windowTypes
custom_window = {
	name = custom_diplomacy_categories_container
	potential = {
		FROM = {
			# has_country_flag = show_diplo_categories
			NOT = { #NOR
				has_country_flag = show_diplo_general
				has_country_flag = show_diplo_government
				has_country_flag = show_diplo_religion
				has_country_flag = show_diplo_cultural
				has_country_flag = show_diplo_estates
				has_country_flag = show_diplo_unique
			}
		}
	}
}
custom_window = {
	name = custom_diplomacy_general_container
	potential = { FROM = { has_country_flag = show_diplo_general } }
}
custom_window = {
	name = custom_diplomacy_government_container
	potential = { FROM = { has_country_flag = show_diplo_government } }
}
custom_window = {
	name = custom_diplomacy_religion_container
	potential = { FROM = { has_country_flag = show_diplo_religion } }
}
custom_window = {
	name = custom_diplomacy_cultural_container
	potential = { FROM = { has_country_flag = show_diplo_cultural } }
}
custom_window = {
	name = custom_diplomacy_estates_container
	potential = { FROM = { has_country_flag = show_diplo_estates } }
}
custom_window = {
	name = custom_diplomacy_unique_container
	potential = { FROM = { has_country_flag = show_diplo_unique } }
}

#####
#Category buttons
#####

custom_button = {
	name = custdip_general_button
	tooltip = custdip_general_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_general_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_general_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_general = yes
			}
		}
	}
}
custom_button = {
	name = custdip_government_button
	tooltip = custdip_government_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_government_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_government_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_government = yes
			}
		}
	}
}
custom_button = {
	name = custdip_religion_button
	tooltip = custdip_religion_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_religion_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_religion_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_religion = yes
			}
		}
	}
}
custom_button = {
	name = custdip_cultural_button
	tooltip = custdip_cultural_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_cultural_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_cultural_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_cultural = yes
			}
		}
	}
}
custom_button = {
	name = custdip_estates_button
	tooltip = custdip_estates_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_estates_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_estates_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_estates = yes
			}
		}
	}
}
custom_button = {
	name = custdip_unique_button
	tooltip = custdip_unique_button_tt
	trigger = {
		hidden_trigger = {
			FROM = { custdip_unique_button_trigger = yes }
		}
	}
	effect = {
		custom_tooltip = custdip_unique_button_desc
		hidden_effect = {
			FROM = {
				custdip_category_open_unique = yes
			}
		}
	}
}

#####
#General Actions
#####

## Overlord Actions
custom_window = {
	name = custom_diplomacy_overlord_container
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 1010 } }
	}
}
# Real diplo action removed, this will re-add it as a custom UI action
# custom_button = { # make_autonomous_vassal
# 	name = make_autonomous_vassal
# 	tooltip = make_autonomous_vassal_tooltip
# 	potential = { }
# 	trigger = {
# 		ROOT = {
# 			is_subject_of = FROM
# 			is_subject_of_type = vassal
# 			has_opinion = {
# 				who = FROM
# 				value = 0
# 			}
# 		}
# 		FROM = {
# 			is_subject = no
# 			if = {
# 				limit = { tag = H78 } #seghdihr
# 				ROOT = { NOT = { culture_is_dwarven = yes } }
# 			}
# 			else_if = {
# 				limit = { tag = H73 } #skewered drake
# 				ROOT = { NOT = { tag = M01 } } #grizehud
# 			}
# 		}
# 	}
# 	effect = {
# 		FROM = {
# 			add_trust = {
# 				who = ROOT
# 				value = 10
# 				mutual = yes
# 			}
# 			create_subject = {
# 				subject_type = autonomous_vassal
# 				subject = ROOT
# 			}
# 		}
# 	}
# }
custom_button = { # cancel_autonomous_vassal
	name = cancel_autonomous_vassal
	tooltip = cancel_autonomous_vassal_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = autonomous_vassal
		}
		FROM = {
			stability = 0
			if = {
				limit = { tag = Z43 } #aelnar
				NOT = { ROOT = { tag = Z44 } } ##Aelnar can't make Silblaidd a normal vassal
			}
			else_if = {
				limit = { tag = R62 } #the command
				NOT = { ROOT = { tag = R81 } } ##Jade March can't be made into a regular vassal
			}
			else_if = {
				limit = {
					OR = {
						tag = G46
						tag = H22
					}
					ROOT = {
						OR = {
							tag = G55
							tag = U27
						}
					}
				}
				NOT = {
					AND = {
						has_country_modifier = G55_for_degakheion_funding_eneion
						ROOT = { has_country_modifier = G55_degakheioni_funding }
					}
				}
			}
		}
	}
	effect = {
		FROM = {
			add_trust = {
				who = ROOT
				value = -20
				mutual = yes
			}
			if = {
				limit = {
					NOT = { full_idea_group = diplomatic_ideas has_reform = goblin_shadow_chancellor } #reduced_stab_impacts = yes
				}
				add_stability = -1
			}
		}
		if = { #Loyal gets turned into vassal
			limit = {
				ROOT = {
					has_opinion = {
						who = FROM
						value = 0
					}
					NOT = { liberty_desire = 50 }
				}
			}
			FROM = {
				create_subject = {
					subject_type = vassal
					subject = ROOT  # dk check
				}
			}
			ROOT = {
				add_liberty_desire = 65
			}
		}
		else = { #Disloyal is released
			ROOT = { grant_independence = yes }
			FROM = { add_truce_with = ROOT }
		}
	}
}
custom_button = { #cancel_centaur_dominion_action
	name = cancel_centaur_dominion_action
	tooltip = cancel_centaur_dominion_action_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = centaur_dominion
			NOT = { liberty_desire = 50 }
		}
		FROM = {
			stability = 0
		}
	}
	effect = {
		ROOT = { grant_independence = yes }
		FROM = {
			add_truce_with = ROOT
			if = {
				limit = {
					NOT = { full_idea_group = diplomatic_ideas } #reduced_stab_impacts = yes
				}
				add_stability = -1
			}
		}
	}
}


#####
#Government Actions
#####

#raja raj_raja_global_target
#Government tab button??
custom_window = {
	name = custom_diplomacy_raja
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 2010 } }
	}
}
custom_button = { #raja_make_senapti
	name = raja_make_senapti_action
	tooltip = raja_make_senapti_action_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = daimyo_vassal
			num_of_cities = 2
			raj_below_allowed_senaptia = yes
			if = {
				limit = { FROM = { has_country_modifier = raj_closed_senapti_ranks } }
				custom_trigger_tooltip = {
					tooltip = make_senapti_trigger_tooltip
					OR = {
						AND = {
							FROM = { culture_group = harimari }
							fast_ruler_is_harimari = yes # ROOT
						}
						AND = {
							FROM = { culture_is_human = yes }
							fast_ruler_is_human = yes # ROOT
						}
					}
				}
			}
		}
	}
	effect = {
		ROOT = {
			raj_become_senapti = yes
			add_country_modifier = { name = prabhi_recently_promoted duration = 3650 }
		}
		FROM = {
			add_trust = {
				who = ROOT
				value = 10
				mutual = yes
			}
			every_subject_country = {
				limit = {
					has_reform = senapti_reform
					NOT = { has_country_modifier = prabhi_recently_promoted }
				}
				add_liberty_desire = 5
			}
		}
	}
}

#####
#Cultural Actions
#####

## None here yet

#####
#Religion Actions
#####

## bulwari_sun_cult
custom_window = {
	name = custom_diplomacy_religion_new_sun_cult
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 3010 } }
	}
}
#Investigate actions used by ai, should probably stay as a real diplo action
# custom_button = { # nsc_investigate_action
	# name = nsc_investigate_action
	# tooltip = nsc_investigate_action_tooltip
	# potential = {
	# }
	# trigger = {
	# 	FROM = {
	# 		has_country_flag = nsc_investigation_enabled
	# 		is_incident_active = incident_summit_of_samartal
	# 	}
	# 	ROOT = {
	# 		has_country_flag = nsc_investigation_enabled
	# 		NOT = { has_country_flag = nsc_is_investigated_by_@FROM }
	# 	}


	# 	FROM = {
	# 		num_of_diplomats = 2
	# 		custom_trigger_tooltip = {
	# 			tooltip = nsc_not_has_already_investigated_tt
	# 			ROOT = { NOT = { has_country_flag = nsc_was_fully_investigated_by_@FROM } }
	# 		}
	# 		custom_trigger_tooltip = {
	# 			tooltip = nsc_cant_investigate_vassals_tt
	# 			ROOT = {
	# 				is_subject = no
	# 				is_lesser_in_union = no
	# 			}
	# 		}
	# 		custom_trigger_tooltip = {
	# 			tooltip = nsc_vassals_cant_investigate_tt
	# 			is_subject = no
	# 			is_lesser_in_union = no
	# 		}
	# 		if = { limit = { ROOT = { has_country_flag = nsc_has_expelled_@FROM } }
	# 			custom_trigger_tooltip = {
	# 				tooltip = nsc_already_investigated_less_than_2_years_ago_tt
	# 				ROOT = { had_country_flag = { flag = nsc_has_expelled_@FROM days = 730 } }
	# 			}
	# 		}
	# 		NOT = { is_in_war = { casus_belli = cb_nsc_investigation attacker_leader = ROOT } }
	# 		NOT = { is_in_war = { casus_belli = cb_nsc_investigation defender_leader = ROOT } }
	# 	}
	# }
	# effect = {
	# 	ROOT = {
	# 		save_event_target_as = nsc_investigation_target
	# 		if = {
	# 			limit = { #So the diplo action is can't be spammed to increase your NSC level
	# 				NOT = { has_country_flag = nsc_was_investigated_by_@FROM }
	# 			}
	# 			set_country_flag = nsc_was_investigated_by_@FROM
	# 			change_variable = { which = investigationAgainstVar value = 1 }
	# 			if = {
	# 				limit = { is_chosen_country = yes }
	# 				FROM = { add_incident_variable_value = { incident = incident_summit_of_samartal value = -1 } }
	# 			}
	# 			else = {
	# 				FROM = {
	# 					add_incident_variable_value = { incident = incident_summit_of_samartal value = 1 }
	# 				}
	# 			}
	# 		}
	# 		set_country_flag = nsc_is_investigated_by_@FROM
	# 		set_country_flag = nsc_investigation_just_started_by_@FROM
	# 		add_opinion = { who = ROOT modifier = nsc_has_investigated_us }
	# 	}
	# 	FROM = {
	# 		nsc_add_investigation_ongoing_modifier = yes
	# 		clr_country_flag = nsc_investigation_stopped_@FROM
	# 		country_event = { id = new_sun_cult.183 }
	# 	}
	# }
# }
# custom_button = { # nsc_cancel_investigate_action
	# name = nsc_cancel_investigate_action
	# tooltip = nsc_cancel_investigate_action_tooltip
	# potential = {
	# }
	# trigger = {
	# 	ROOT = { has_country_flag = nsc_is_investigated_by_@FROM }
	# 	FROM = {
	# 		custom_trigger_tooltip = {
	# 			tooltip = nsc_has_already_cancelled_investigation_tt
	# 			ROOT = { has_country_flag = nsc_is_investigated_by_@FROM }
	# 		}
	# 	}
	# }
	# effect = {
	# 	ROOT = { clr_country_flag = nsc_is_investigated_by_@FROM }
	# 	FROM = {
	# 		nsc_remove_investigation_ongoing_modifier = yes
	# 	}
	# }
# }
custom_button = { # nsc_incense_itar_hasis_action
	name = nsc_incense_itar_hasis_action
	tooltip = nsc_incense_itar_hasis_action_tt
	potential = { }
	trigger = {
		FROM = { has_country_modifier = nsc_incense_itar_hasis }
		ROOT = {
			has_opinion_modifier = {
				modifier = aggressive_expansion
				who = FROM
			}
		}
	}
	effect = {
		FROM = {
			hidden_effect = { save_event_target_as = nsc_incense_user }
			remove_country_modifier = nsc_incense_itar_hasis
		}
		ROOT = {
			hidden_effect = { save_event_target_as = nsc_incense_target }
			remove_opinion = { modifier = aggressive_expansion who = FROM }
			# This event has no effects, though the loc/lore ought to be seen by a player
			# Currently no-one will ever see it!
			country_event = { id = new_sun_cult.289 }
		}
	}
}
custom_button = { # nsc_dagger_derumasil_action
	name = nsc_dagger_derumasil_action
	tooltip = nsc_dagger_derumasil_action_tt
	potential = { }
	trigger = {
		FROM = {
			has_country_modifier = nsc_dagger_derumasil
			if = {
				limit = { has_country_flag = nsc_dagger_derumasil_menu }
				NOT = { has_country_flag = nsc_dagger_derumasil_menu }
			}
			OR = {
				has_heir = yes
				has_consort = yes
			}
			if = {
				limit = {
					has_regency = yes
				}
				has_regency = no
			}
		}
	}
	effect = {
		ROOT = {
			hidden_effect = { save_event_target_as = nsc_dagger_target }
		}
		FROM = {
			hidden_effect = { save_event_target_as = nsc_dagger_user }
			set_country_flag = nsc_dagger_derumasil_menu
			country_event = { id = new_sun_cult.291 }
		}
	}
}

#Rinta Seekers
custom_window = {
	name = custom_diplomacy_religion_rinta_seekers
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 3020 } }
	}
}
custom_button = { # nsc_dagger_derumasil_action
	name = rs_steal_telescope_funds
	tooltip = rs_steal_telescope_funds_tt
	potential = { }
	trigger = {
		FROM = {
			if = {
				limit = { has_country_flag = stole_telescope_funds_flag }
				had_country_flag = {
					flag = stole_telescope_funds_flag
					days = 365 #1 year
				}
			}
		}
		is_incident_active = incident_rinta_light_up_the_night_sky
		if = {
			limit = { has_global_flag = rinta_supercharge_stealing_funds_flag }
			has_spy_network_from = {
				who = FROM
				value = 20
			}
		}
		else = {
			has_spy_network_from = {
				who = FROM
				value = 35
			}
		}
	}
	effect = {
		FROM = {
			if = {
				limit = { has_global_flag = rinta_supercharge_stealing_funds_flag }
				add_spy_network_in = {
					who = ROOT
					value = -20
				}
			}
			else = {
				add_spy_network_in = {
					who = ROOT
					value = -35
				}
			}
			rinta_invest_in_telescope = { level = 0_5 }
			set_country_flag = stole_telescope_funds_flag #Reset decision cooldown
		}
		tooltip = {
			add_opinion = {
				who = ROOT
				modifier = rinta_stole_astronomy_funds
			}
			add_casus_belli = {
				type = cb_spy_discovered
				target = ROOT
				months = 60 #5 years
			}
		}
		hidden_effect = {
			country_event = {
				id = rinta_seeker_events.520 #Astronomical Center Funds Stolen
			}
		}
	}
}
custom_window = {
	name = custom_diplomacy_religion_shadowpact
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 3030 } }
	}
}
custom_button = { #Palace of the Sealed Tree - Induce Illness
	name = sp_induce_illness
	tooltip = sp_induce_illness_tt
	potential = { }
	trigger = {
		FROM = {
			NOT = { has_country_modifier = shadowpact_shadow_bonsai_cooldown }
			church_power = 100
			owns = 5689
		}
		5689 = { 
			has_great_project = { type = palace_of_the_sealed_tree tier = 2 } 
			can_use_palace_of_the_sealed_tree = yes
		}
	}
	effect = {
		ROOT = { hidden_effect = { country_event = { id = shadow_pact.19 } } }
		custom_tooltip = sealed_tree_they_will_get
		tooltip = {
    		if = {
				limit = {
					5689 = {
						has_great_project = {
							type = palace_of_the_sealed_tree
							tier = 3
						}
					}
				}
				add_country_modifier = {
					name = "tree_ill_army_2"
					duration = 3650
				}
				if = {
					limit = {
						ai = yes
					}
					custom_tooltip = sealed_tree_general_kill_tt
				}
			}
			else = {
				add_country_modifier = {
					name = "tree_ill_army"
					duration = 3650
				}
			}
		}
		FROM = {
			add_country_modifier = {
				name = shadowpact_shadow_bonsai_cooldown
				duration = 1825
			}
			add_church_power = -100
		}
	}
}

#####
#Estate Actions
#####

## estate_vampires
custom_window = {
	name = custom_diplomacy_vampires_container
	potential = {
		FROM = { is_variable_equal = { which = show_diplo_container value = 5010 } }
	}
}
custom_button = { #vampire_spread_action
	name = vampire_spread_action
	tooltip = vampire_spread_action_tt
	potential = { }
	trigger = {
		FROM = {
			NOT = { has_country_modifier = vamp_spread_cooldown }
			has_spy_network_in = {
				who = ROOT
				value = 50
			}
			has_estate = estate_vampires
			has_estate_privilege = estate_vampires_law_state_collusion_masquerade
			estate_influence = {
				estate = estate_vampires
				influence = 60
			}
			estate_territory = { #TODO I suspect this became 'crown_land_share', but kept for legacy compatibility?
				estate = estate_vampires
				territory = 2
			}
		}
		ROOT = {
			if = {
				limit = { ai = yes }
				OR = {
					culture_is_human = yes #Can only spread to humans as everyone else says no
					culture_is_half_elven = yes #Or half elves
				}
				NOT = { has_estate = estate_vampires }
			}
			else = {
				NOT = { has_estate = estate_vampires }
			}
			capital_scope = {
				OR = {
					continent = europe
					range = FROM
				}
			}
		}
	}
	effect = {
		ROOT = { hidden_effect = { set_country_flag = spread_vamps_@FROM } }
		FROM = {
			capital_scope = {
				#Event uses random_owned_province
				add_province_triggered_modifier = custom_diplo_ui_vampire_spread_action_ptm
			}
			change_estate_land_share = {
				estate = estate_vampires
				share = -1
			}
			add_spy_network_in = {
				who = ROOT
				value = -50
			}

			#UNUSED limits spreading to 1 at a time
			#set_country_flag = {
			#	name = currently_spreading_vampires
			#	duration = -1
			#}
			add_country_modifier = {
				name = vamp_spread_cooldown
				duration = 1825
			}
		}
	}
}
custom_button = { #vampire_pop_buff_action
	name = vampire_pop_buff_action
	tooltip = vampire_pop_buff_action_tt
	potential = {
		# FROM = {
		# 	has_country_flag = founded_blood_court
		# }
	}
	trigger = {
		FROM = {
			country_has_founded_blood_court_trigger = yes
			reverse_has_opinion = {
				who = ROOT
				value = 80
			}
			has_spy_network_in = {
				who = ROOT
				value = 25
			}
		}
		ROOT = {
			#only usable once, on a nation with emigres.
			NOT = { has_supported_emigrees_trigger = yes }
			has_estate = estate_vampires
            has_estate_privilege = estate_vampires_organization_vampiric_emigres
			capital_scope = {
				OR = {
					continent = europe
					range = FROM
				}
			}
		}
	}
	effect = {
		hidden_effect = {
			ROOT = {
				custom_tooltip = supported_emigrees_tt
				set_country_flag = population_boom_buff #reduces MTTH of influence increasing events
			}
		}
		FROM = {
			add_spy_network_in = {
				who = ROOT
				value = -25
			}
		}
	}
}
custom_button = { #vampire_blood_coersion_action #Hostile version
	name = vampire_blood_coersion_action
	tooltip = vampire_blood_coersion_action_tt
	potential = {
		# FROM = {
		# 	has_country_flag = founded_blood_court
		# }
	}
	trigger = {
		FROM = {
			country_has_founded_blood_court_trigger = yes
			has_spy_network_in = {
				who = ROOT
				value = 60
			}
		}
		ROOT = {
			capital_scope = {
				OR = {
					continent = europe
					range = FROM
				}
			}
			# has_country_flag = has_vampires_estate
			has_estate = estate_vampires
			#only allowed for nations that have Bloody Aristocracy or Vampire Lord
			NOT = { has_estate_privilege = estate_vampires_organization_the_blood_court }
			NOT = { has_estate_privilege = estate_vampires_organization_vampiric_emigres }
		}
	}
	effect = {
		FROM = {
			add_spy_network_in = {
				who = ROOT
				value = -60
			}
			hidden_effect = {
				#Can skip this because we know it isn't saved, and you must be the founder to use this diplo action
				# if = {
				# 	limit = { NOT = { has_saved_event_target = blood_court_founder } }
				# 	save_event_target_blood_court_founder = yes
				# }
				save_event_target_as = blood_court_founder
			}
		}
		ROOT = {
			country_event = { id = flavor_asheniande.5 days = 10 random = 10 } #Blood Takeover event
		}
	}
}
custom_button = { #vampire_blood_invitation_action #Friendly version
	name = vampire_blood_invitation_action
	tooltip = vampire_blood_invitation_action_tt
	potential = {
		# FROM = {
		# 	has_country_flag = founded_blood_court
		# }
	}
	trigger = {
		FROM = {
			country_has_founded_blood_court_trigger = yes
			reverse_has_opinion = {
				who = ROOT
				value = 40
			}
			has_spy_network_in = {
				who = ROOT
				value = 20
			}
		}
		ROOT = {
			has_estate = estate_vampires
			# has_country_flag = has_vampires_estate
			capital_scope = {
				OR = {
					continent = europe
					range = FROM
				}
			}
			#only allowed for nations that have Bloody Aristocracy or Vampire Lord
            NOT = { has_estate_privilege = estate_vampires_organization_the_blood_court }
			NOT = { has_estate_privilege = estate_vampires_organization_vampiric_emigres }
		}
	}
	effect = {
		ROOT = {
			country_event = { id = corvuria.4 days = 5 random = 5 }
		}
		FROM = {
			add_spy_network_in = {
				who = ROOT
				value = -20
			}
		}
	}
}



#####
#Unique Actions
#####
# # is_or_was_tag = { tag = Y20 }
# # is_or_was_tag = { tag = Y10 }
# tag = Z99
# tag = B58
# tag = F35
# tag = B32
# tag = J33
# tag = Z97
# tag = B02
# tag = H85
# tag = B37
# tag = Y25

# Y20 Feiten
custom_window = {
	name = custom_diplomacy_Y20
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6010 }
		}
	}
}
custom_button = { # Y20_feiten_buy_skyport_rights
	name = Y20_feiten_buy_skyport_rights
	tooltip = Y20_feiten_buy_skyport_rights_tt
	potential = { }
	trigger = {
		custom_trigger_tooltip = {
			tooltip = feiten_skyposts_unlocked_tt
			FROM = {
				has_country_flag = feiten_skyposts_unlocked
			}
		}
		4879 = {
			OR = {
				has_great_project = { type = feiten_aerodrome }
				has_province_modifier = feiten_grand_skyport_level_1
				has_province_modifier = feiten_grand_skyport_level_2
				has_province_modifier = feiten_grand_skyport_level_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = peaceHomeNodeSkyportAllowed
			ROOT = {
				home_trade_node = {
					all_trade_node_member_province = {
						NOT = { has_province_modifier = feiten_skyport_handler_mod }
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = peaceCoTSkyportAllowed
			ROOT = {
				home_trade_node = {
					any_trade_node_member_province = {
						owned_by = ROOT
						province_has_center_of_trade_of_level = 1
					}
				}
			}
		}
		FROM = {
			home_trade_node = { trade_range = event_target:feiten_or_was_feiten_target }
			check_variable = {
				which = feitenSkyportBalance
				value = 1
			}
		}
		ROOT = {
			if = {
				limit = { is_subject = yes }
				OR = {
					is_subject_of = FROM
					overlord = { is_subject_of = FROM }
				}
			}
			else = {
				OR = {
					gives_fleet_basing_rights_to = FROM
					gives_military_access_to = FROM
				}
			}
		}
	}
	effect = {
		if = {
			limit = { FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } } }
			hidden_effect = {
				FROM = {
					# custom_tooltip = feitenConstructSkypostInfoShortTT
					add_treasury = -1000
					add_dip_power = -50
				}
				ROOT = {
					home_trade_node_effect_scope = {
						random_trade_node_member_province = {
							limit = {
								owned_by = ROOT
								province_has_center_of_trade_of_level = 1
							}
							add_province_triggered_modifier = feiten_skyport_handler_mod
						}
					}
				}
			}
		}
		else = {
			hidden_effect = {
				feiten_skyport_ai_acceptance_calc_effect = yes
			}
			# custom_tooltip = "They would not accept."
			custom_tooltip = anb_custom_diplomacy_click_to_query
		}
		# custom_tooltip = feitenConstructSkypostInfoShortTT
		tooltip = {
			FROM = {
				# custom_tooltip = feitenConstructSkypostInfoShortTT
				add_treasury = -1000
				add_dip_power = -50
			}
			ROOT = {
				home_trade_node_effect_scope = {
					random_trade_node_member_province = {
						limit = {
							owned_by = ROOT
							province_has_center_of_trade_of_level = 1
						}
						add_province_triggered_modifier = feiten_skyport_handler_mod
					}
				}
			}
		}
	}
}
custom_button = { # Y20_feiten_buy_skyport_rights_ai_accept
	name = Y20_feiten_buy_skyport_rights_ai_accept
	tooltip = Y20_feiten_buy_skyport_rights_ai_accept_gate
	potential = { }
	trigger = { }
	effect = {
		feiten_skyport_ai_acceptance_calc_effect = yes
	}
	frame = {
		number = 2
		trigger = {
			FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } }
		}
	}
	frame = {
		number = 1
	}
}
# Y10 Yingzhen
custom_window = {
	name = custom_diplomacy_Y10
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6020 }
		}
	}
}
custom_button = { # Y10_yingzhen_contract_killing_action
	name = Y10_yingzhen_contract_killing_action
	tooltip = Y10_yingzhen_contract_killing_action_tt
	potential = { }
	trigger = {
		FROM = {
			NOT = { has_country_modifier = yingzhen_best_things_cd }
		}
		ROOT = {
			has_spy_network_from = {
				who = FROM
				value = 60
			}
		}
	}
	effect = {
		hidden_effect = {
			ROOT = {
				save_event_target_as = yingzhen_contract_target
			}
			FROM = {
				country_event = { id = yingzhen.60 }
			}
		}
	}
}
custom_button = { # Y10_yingzhen_attempt_assassination
	name = Y10_yingzhen_attempt_assassination
	tooltip = Y10_yingzhen_attempt_assassination_tt
	potential = { }
	trigger = {
		FROM = {
			mission_completed = yingzhen_nobody_safe
			NOT = { has_country_modifier = yingzhen_best_things_cd }
		}
		ROOT = {
			has_spy_network_from = {
				who = FROM
				value = 100
			}
		}
	}
	effect = {
		hidden_effect = {
			ROOT = {
				save_event_target_as = yingzhen_assassination_target
			}
			FROM = {
				country_event = { id = yingzhen.61 }
			}
		}
	}
}

# Z99 Black Demesne
custom_window = {
	name = custom_diplomacy_Z99
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6030 }
		}
	}
}
custom_button = { # Z99_acolytes_interaction
	name = Z99_acolytes_interaction
	tooltip = Z99_acolytes_interaction_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = acolyte_dominion
		}
		FROM = {
			adm_power = 100
			mil_power = 100
			dip_power = 100
		}
	}
	effect = {
		ROOT = {
			# set_country_flag = acolyte_interaction
			save_event_target_as = country #That's what they used
		}
		FROM = { country_event = { id = black_demesne.6 } }
	}
}
custom_button = { # Z99_magic_duel_blackpurgis
	name = Z99_magic_duel_blackpurgis
	tooltip = Z99_magic_duel_blackpurgis_tt
	potential = { }
	trigger = {
		blackpurgis_happening_trigger = yes
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = acolyte_dominion
			# custom_trigger_tooltip = {
			# 	tooltip = not_in_magic_duel_tooltip
			# 	NOT = { has_ruler_flag = in_magic_duel }
			# }
		}
		FROM = {
			custom_trigger_tooltip = {
				tooltip = not_in_magic_duel_tooltip
				NOT = { has_ruler_flag = in_magic_duel }
			}
			if = {
				limit = { has_country_flag = short_blackpurgis }
				custom_trigger_tooltip = {
					tooltip = short_blackpurgis_max_fight
					ROOT = { NOT = { has_country_flag = black_1_fight_@FROM } }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = long_blackpurgis_max_fight
					ROOT = { NOT = { has_country_flag = black_2_fight_@FROM } }
				}
			}
			custom_trigger_tooltip = {
				tooltip = recent_blackpurgis_duel_tooltip
				NOT = { has_ruler_modifier = recent_blackpurgis_duel }
			}
			if = {
				limit = { is_at_war = yes }
				is_at_war = no
			}
		}
	}
	effect = {
		hidden_effect = {
			FROM = {
				save_event_target_as = attacker
				set_ruler_flag = in_magic_duel
			}
			ROOT = {
				save_event_target_as = defender
				set_ruler_flag = in_magic_duel
				set_country_flag = duel_@FROM
				if = {
					limit = { has_country_flag = black_1_fight_@FROM }
					set_country_flag = black_2_fight_@FROM
				}
				else = {
					set_country_flag = black_1_fight_@FROM
				}
			}
		}
		FROM = { country_event = { id = magic_duel.0 } }
	}
}

# B58 Adenica
custom_window = {
	name = custom_diplomacy_B58
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6040 }
		}
	}
}
custom_button = { # B58_adenica_convert_action
	name = B58_adenica_convert_action
	tooltip = B58_adenica_convert_action_tt
	potential = { }
	trigger = {
		FROM = {
			religion = regent_court
			prestige = 0
			reverse_has_opinion = {
				who = ROOT
				value = 50
			}
		}
		ROOT = {
			capital_scope = { continent = europe }
			OR = {
				religion = corinite
				religion = ravelian
			}
			if = {
				limit = { tag = Z97 }
				NOT = { tag = Z97 }
			}
		}
	}
	effect = {
		ROOT = {
			save_event_target_as = adenica_converting_target
		}
		FROM = {
			country_event = {
				id = flavor_adenica.90
			}
		}
	}
}

# F35 Azkabar
custom_window = {
	name = custom_diplomacy_F35
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6050 }
		}
	}
}
custom_button = { # F35_azkabar_cult_minor_action
	name = F35_azkabar_cult_minor_action
	tooltip = F35_azkabar_cult_minor_action_tt
	potential = { }
	trigger = {
		has_spy_network_from = {
			who = FROM
			value = 40
		}
		FROM = {
			if = {
				limit = { has_country_flag = F35_minor_eclipse_3_enabled }
				treasury = 100
			}
			else_if = {
				limit = { has_country_flag = F35_minor_eclipse_2_enabled }
				treasury = 50
			}
		}
	}
	effect = {
		add_spy_network_from = {
			who = FROM
			value = -40
		}
		FROM = {
			if = {
				limit = { has_country_flag = F35_minor_eclipse_3_enabled }
				add_treasury = -100
			}
			else_if = {
				limit = { has_country_flag = F35_minor_eclipse_2_enabled }
				add_treasury = -50
			}
			hidden_effect = {
				save_event_target_as = eclipse_operator
			}
		}
		ROOT = {
			country_event = { id = flavour_azkabar.101 }
			change_variable = { which = minor_eclipse_operation_count value = 1 }
		}
	}
}
custom_button = { # F35_azkabar_cult_major_action
	name = F35_azkabar_cult_major_action
	tooltip = F35_azkabar_cult_major_action_tt
	potential = {
		FROM = {
			has_country_flag = azkabar_major_eclipse_1
		}
	}
	trigger = {
		has_spy_network_from = {
			who = FROM
			value = 75
		}
	}
	effect = {
		add_spy_network_from = {
			who = FROM
			value = -75
		}
		ROOT = {
			country_event = { id = flavour_azkabar.102 }
			change_variable = { which = major_eclipse_operation_count value = 1 }
		}
	}
}

# B32 Castanor
custom_window = {
	name = custom_diplomacy_B32
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6060 }
		}
	}
}
custom_button = { # B32_make_castanorian_dominion_vassal
	name = B32_make_castanorian_dominion_vassal
	tooltip = B32_make_castanorian_dominion_vassal_tt
	potential = { }
	trigger = {
		is_subject_of = FROM
		culture_is_human = yes
		OR = {
			is_subject_of_type = vassal
			is_subject_of_type = march
			is_client_nation_of = FROM
		}
		if = {
			limit = {
				NOT = {
					FROM = { has_country_flag = castanor_can_make_dominions }
				}
			}
			OR = {
				tag = Z45 # Vrorenmarch
				tag = Z07 # Dostanor
			}
		}
		if = {
			limit = { FROM = { is_subject = yes } }
			FROM = { is_subject = no }
		}
		has_opinion = {
			who = FROM
			value = 0
		}
		custom_trigger_tooltip = {
			tooltip = castanor_current_max_allowed_dominions
			FROM = {
				OR = {
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 1 }
						NOT = { castanor_dominion = 1 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 2 }
						NOT = { castanor_dominion = 2 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 3 }
						NOT = { castanor_dominion = 3 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 4 }
						NOT = { castanor_dominion = 4 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 5 }
						NOT = { castanor_dominion = 5 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 6 }
						NOT = { castanor_dominion = 6 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 7 }
						NOT = { castanor_dominion = 7 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 8 }
						NOT = { castanor_dominion = 8 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 9 }
						NOT = { castanor_dominion = 9 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 10 }
						NOT = { castanor_dominion = 10 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 11 }
						NOT = { castanor_dominion = 11 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 12 }
						NOT = { castanor_dominion = 12 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 13 }
						NOT = { castanor_dominion = 13 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 14 }
						NOT = { castanor_dominion = 14 }
					}
					AND = {
						is_variable_equal = { which = maxAllowedDominions value = 15 }
						NOT = { castanor_dominion = 15 }
					}
					AND = {
						check_variable = { which = maxAllowedDominions value = 16 }
						NOT = { castanor_dominion = 16 }
					}
				}
			}
		}
	}
	effect = {
		add_trust = {
			who = FROM
			value = 10
			mutual = yes
		}
		FROM = {
			create_subject = {
				subject_type = castanor_dominion
				subject = ROOT
			}
		}
		ROOT = { anb_add_accepted_culture_or_dip_power = { culture = castanorian free = yes } }
	}
}
custom_button = { # B32_cancel_castanorian_dominion
	name = B32_cancel_castanorian_dominion
	tooltip = B32_cancel_castanorian_dominion_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
			NOT = { liberty_desire = 50 }
			has_opinion = {
				who = FROM
				value = 0
			}
		}
		FROM = {
			stability = 0
		}
	}
	effect = {
		add_trust = {
			who = FROM
			value = -20
			mutual = yes
		}
		FROM = {
			create_subject = {
				subject_type = vassal
				subject = ROOT  # dk check
			}
			add_stability = -1
		}
		ROOT = {
			add_liberty_desire = 65
			remove_accepted_culture = castanorian
		}
	}
}
custom_button = { # B32_castanor_give_capital_claims
	name = B32_castanor_give_capital_claims
	tooltip = B32_castanor_give_capital_claims_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
		}
	}
	effect = {
		capital_scope = {
			region = {
				if = {
					limit = { is_permanent_claim = FROM }
					add_permanent_claim = ROOT
					remove_claim = FROM
				}
				else_if = {
					limit = { is_claim = FROM }
					add_claim = ROOT
					remove_claim = FROM
				}
			}
		}
	}
}
custom_button = { # B32_castanor_encourage_assimilation
	name = B32_castanor_encourage_assimilation
	tooltip = B32_castanor_encourage_assimilation_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
			NOT = { has_country_modifier = castanor_encourage_assimilation_mod_dominion }
		}
		FROM = {
			splendor = 400
			NOT = { has_country_modifier = castanor_encourage_assimilation_mod_castanor }
		}
	}
	effect = {
		ROOT = {
			add_country_modifier = {
				name = castanor_encourage_assimilation_mod_dominion
				duration = 7300
			}
		}
		FROM = {
			add_splendor = -400
			add_country_modifier = {
				name = castanor_encourage_assimilation_mod_castanor
				duration = 7300
			}
		}
	}
}
custom_button = { # B32_castanor_auxilaries
	name = B32_castanor_auxilaries
	tooltip = B32_castanor_auxilaries_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
			NOT = { has_country_modifier = castanor_auxilaries_mod_dominion }
			manpower = 10
		}
		FROM = {
			splendor = 100
		}
	}
	effect = {
		ROOT = {
			add_country_modifier = {
				name = castanor_auxilaries_mod_dominion
				duration = 730
			}
			add_manpower = -10
		}
		FROM = {
			add_splendor = -100
			add_manpower = 10
			if = {
				limit = { any_owned_province = { has_province_modifier = castanor_auxilaries_mod_castanor } }
				random_province = {
					limit = { has_province_modifier = castanor_auxilaries_mod_castanor }
					add_or_extend_province_modifier_effect = {
						MODIFIER = castanor_auxilaries_mod_castanor
						DURATION = 730
					}
				}
			}
			else = {
				capital_scope = {
					add_or_extend_province_modifier_effect = {
						MODIFIER = castanor_auxilaries_mod_castanor
						DURATION = 730
					}
				}
			}
		}
	}
}
custom_button = { # B32_castanor_integrate_dominion
	name = B32_castanor_integrate_dominion
	tooltip = B32_castanor_integrate_dominion_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
			custom_trigger_tooltip = {
				tooltip = castanor_integrate_dominion_allowed_tt
				all_owned_province = {
					OR = {
						NOT = { has_human_majority_trigger = yes }
						culture = castanorian
					}
				}
			}
		}
		FROM = {
			OR = {
				splendor = 800
				AND = {
					splendor = 400
					has_government_attribute = dominion_cheaper_integration
				}
			}
		}
	}
	effect = {
		FROM = {
			if = {
				limit = { has_government_attribute = dominion_cheaper_integration }
				add_splendor = -400
				add_country_modifier = {
					name = castanor_integrate_dominion
					duration = 1825
				}
			}
			else = {
				add_splendor = -800
				add_country_modifier = {
					name = castanor_integrate_dominion
					duration = 3650
				}
			}
			inherit = ROOT
		}
	}
}
custom_button = { # B32_castanor_press_ships
	name = B32_castanor_press_ships
	tooltip = B32_castanor_press_ships_tt
	potential = { }
	trigger = {
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = castanor_dominion
			sailors = 1000
			num_of_total_ports = 1
			NOT = { has_country_modifier = castanor_press_ships_mod }
		}
		FROM = {
			splendor = 100
		}
	}
	effect = {
		ROOT = {
			add_sailors = -1000
			hidden_effect = {
				if = {
					limit = { capital_scope = { has_port = yes } }
					capital_scope = { save_event_target_as = prov_to_build_ships }
				}
				else = {
					random_owned_province = {
						limit = { has_port = yes }
						save_event_target_as = prov_to_build_ships
					}
				}
			}
			add_liberty_desire = 10
			add_country_modifier = {
				name = castanor_press_ships_mod
				duration = 1825
			}
		}
		FROM = {
			add_splendor = -100
			country_event = { id = flavor_castanor.151 } #Should work fine
		}
	}
}

# J33 Kalsyto
#### ai_will_do can be true for these, so they'll stay as real diplo actions for now
# To enable these, uncomment them in 'countrydiplomacyview.gui' and the scripted effect 'custdip_category_sort_unique'
custom_window = {
	name = custom_diplomacy_J33
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6070 }
		}
	}
}
custom_button = { #J33_invite_into_democratic_sphere
	name = J33_invite_into_democratic_sphere
	tooltip = J33_invite_into_democratic_sphere_tt
	potential = { }
	trigger = {
		if = {
			limit = { is_subject = yes }
			if = {
				limit = { is_subject_of = FROM }
				NOT = { is_subject_of_type = democratic_sphere_of_influence_subject }
			}
			else = {
				is_subject_of = FROM
			}
		}
		# else = { is_subject = no } #The implied trigger
		ROOT = {
			if = {
				limit = { NOT = { capital_scope = { trade_range = FROM } } }
				custom_trigger_tooltip = {
					tooltip = REQUIRES_THIS_CAPITAL_IN_TRADE_RANGE_TT
					capital_scope = { trade_range = FROM }
				}
			}
			if = {
				limit = { is_at_war = yes }
				custom_trigger_tooltip = {
					tooltip = ROOT_IS_AT_WAR_TT
					is_at_war = no
				}
			}
			if = {
				limit = { is_great_power = yes }
				custom_trigger_tooltip = {
					tooltip = ROOT_IS_GREAT_POWER_TT
					is_great_power = no
				}
			}
			if = {
				limit = { total_development = FROM }
				custom_trigger_tooltip = {
					tooltip = ROOT_MORE_DEV_THAN_FROM_TT
					NOT = { total_development = FROM }
				}
			}
			if = {
				limit = {
					capital_scope = { superregion = forbidden_lands_superregion }
					OR = {
						FROM = { NOT = { has_country_modifier = J33_centaur_tolerance } }
						NOT = { culture_group = centaur }
					}
				}
				custom_trigger_tooltip = {
					tooltip = REQUIRES_THIS_CAPITAL_NOT_IN_FP_TT
					capital_scope = {
						NOT = { superregion = forbidden_lands_superregion }
					}
				}
			}
		}
		FROM = {
			if = {
				limit = { is_subject = yes }
				is_subject = no
			}
			if = {
				limit = { is_at_war = yes }
				custom_trigger_tooltip = {
					tooltip = FROM_IS_AT_WAR_TT
					is_at_war = no
				}
			}
		}
	}
	effect = {
		hidden_effect = {
			J33_invite_into_democratic_sphere_ai_acceptance_calc_effect = yes
		}
		if = {
			limit = { FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } } }
			ROOT = {
				if = {
					limit = { NOT = { government = republic } }
					change_government = republic
					change_government_reform_progress = 200
				}
			}
			FROM = {
				create_subject = {
					subject_type = democratic_sphere_of_influence_subject
					subject = ROOT
				}
			}
			ROOT = {
				every_subject_country = {
					if = {
						limit = { NOT = { government = republic } }
						change_government = republic
						change_government_reform_progress = 200
					}
					FROM = {
						create_subject = {
							subject_type = democratic_sphere_of_influence_subject
							subject = PREV
						}
					}
				}
			}
			hidden_effect = {
				FROM = {
					remove_country_modifier = discontent_sowed
					set_variable = { which = kalsyto_influence_counter value = 0 }
					if = {
						limit = { has_country_flag = J33_kalyins_monsters }
						if = {
							limit = { ROOT = { culture_is_dwarven = yes } }
							medium_increase_of_dwarven_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_elven = yes } }
							medium_increase_of_elven_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_gnollish = yes } }
							medium_increase_of_gnollish_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_gnomish = yes } }
							medium_increase_of_gnomish_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_goblin = yes } }
							medium_increase_of_goblin_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_halfling = yes } }
							medium_increase_of_halfling_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_half_elven = yes } }
							medium_increase_of_half_elven_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_half_orcish = yes } }
							medium_increase_of_half_orcish_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_harimari = yes } }
							medium_increase_of_harimari_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_harpy = yes } }
							medium_increase_of_harpy_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_hobgoblin = yes } }
							medium_increase_of_hobgoblin_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_kobold = yes } }
							medium_increase_of_kobold_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_lizardfolk = yes } }
							medium_increase_of_lizardfolk_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_mechanim = yes } }
							medium_increase_of_mechanim_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_orcish = yes } }
							medium_increase_of_orcish_tolerance_effect = yes
						}
						else_if = {
							limit = { ROOT = { culture_is_ruinborn = yes } }
							medium_increase_of_ruinborn_tolerance_effect = yes
						}
					}
				}
			}
		}

		else = {
			custom_tooltip = anb_custom_diplomacy_click_to_query
		}
	}
}
custom_button = { #J33_invite_into_democratic_sphere_accept
	name = J33_invite_into_democratic_sphere_accept
	tooltip = J33_democratic_sphere_ai_accept_gate
	potential = { always = yes }
	trigger = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			J33_invite_into_democratic_sphere_ai_acceptance_calc_effect = yes
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } }
		}
	}
	frame = {
		number = 1
	}
}
custom_button = { #J33_call_democratic_state_to_arms
	name = J33_call_democratic_state_to_arms
	tooltip = J33_call_democratic_state_to_arms_tt
	potential = { }
	trigger = {
		if = {
			limit = {
				FROM = {
					NOT = { is_at_war = yes }
				}
			}
			FROM = { is_at_war = yes }
		}
		FROM = {
			any_war_enemy_country = {
				NOT = { war_with = ROOT }
			}
		}
		ROOT = {
			is_subject_of = FROM
			is_subject_of_type = democratic_sphere_of_influence_subject
			if = {
				limit = { FROM = { is_in_war = { attackers = FROM } } }
				owes_favors = { who = FROM value = 10 }
			}
		}
		FROM = {
			if = {
				limit = {
					any_war_enemy_country = {
						defensive_war_with = FROM
						truce_with = ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = KALSYTO_TRUCE_TT
					always = no
				}
			}
			if = {
				limit = {
					calc_true_if = {
						all_known_country = {
							is_in_war = {
								attacker_leader = FROM
								defender_leader = THIS
							}
						}
						amount = 2
					}
				}
				custom_trigger_tooltip = {
					tooltip = KALSYTO_ONE_WAR_TT
					always = no
				}
			}
		}
	}
	effect = {
		FROM = {
			if = {
				limit = { is_in_war = { attackers = FROM } }
				add_favors = {
					who = ROOT
					amount = -10
				}
			}
		}
		ROOT = {
			join_all_offensive_wars_of = FROM
			join_all_defensive_wars_of = FROM
		}
	}
}

# Z97 Ravelian State
custom_window = {
	name = custom_diplomacy_Z97
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6080 }
		}
	}
}
custom_button = { # Z97_build_up_aelantir_relics
	name = Z97_build_up_aelantir_relics
	tooltip = Z97_build_up_aelantir_relics_tt
	potential = { }
	trigger = {
		FROM = { # ravstate needs to finish their mission
			mission_completed = Z97_foothold_in_aelantir
		}
		ROOT = { #Recipient Restrictions
			capital_scope = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
			any_owned_province = {
				trade_goods = precursor_relics
				NOT = { has_building = university }
				NOT = { base_production = 11 }
			}
			NOT = {
				is_rival = Z97
				is_enemy = Z97
			}
			has_opinion = { who = Z97 value = 0 }
		}
	}
	effect = {
		FROM = { # Effects on the Ravelian State
			add_treasury = -500
		}
		ROOT = {
			random_owned_province = {
				limit = {
					trade_goods = precursor_relics
					NOT = { has_building = university }
					NOT = { base_production = 11 }
				}
				#Starts constructing a University and manufactury
				province_event = { id = ravstate.9 days = 1 } #Should work fine
			}
		}
	}
}
custom_button = { # Z97_spread_ravelian_faith
	name = Z97_spread_ravelian_faith
	tooltip = Z97_spread_ravelian_faith_tt
	potential = { }
	trigger = {
		FROM = {
			has_reform = verdical_parliament
			adm_power = 100
			dip_power = 100
			treasury = 1000
		}
		ROOT = { #Recipient Restrictions
			NOT = { religion = ravelian }
			dominant_religion = ravelian
			#has_opinion = { who = Z97 value = 50 }
		}
	}
	effect = {
		hidden_effect = {
			Z97_spread_ravelian_faith_ai_acceptance_calc_effect = yes
		}
		if = {
			limit = { FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } } }
			FROM = { # Effects on the Ravelian State
				add_adm_power = -100
				add_dip_power = -100
				add_treasury = -1000
			}
			ROOT = {
				change_religion = ravelian
			}
		}
		else = {
			custom_tooltip = anb_custom_diplomacy_click_to_query
		}
	}
}
custom_button = { # Z97_spread_ravelian_faith_ai_accept
	name = Z97_spread_ravelian_faith_ai_accept
	tooltip = Z97_spread_ravelian_faith_ai_accept_gate
	potential = { always = yes }
	trigger = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			Z97_spread_ravelian_faith_ai_acceptance_calc_effect = yes
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } }
		}
	}
	frame = {
		number = 1
	}
}
custom_button = { # Z97_spread_ravelian_estates
	name = Z97_spread_ravelian_estates
	tooltip = Z97_spread_ravelian_estates_tt
	potential = { }
	trigger = {
		FROM = { # ravstate needs gov reform first
			has_reform = ravelian_state_technocracy
		}
		ROOT = { #Recipient Restrictions
			has_opinion = { who = Z97 value = 50 }
			religion = ravelian
			OR = {
				AND = {
					has_estate = estate_mages
					NOT = { has_estate_privilege = estate_mages_organization_religious }
					NOT = { has_country_flag = estates_overseen_by_ravelians }
				}
				AND = {
					has_estate = estate_artificers
					NOT = { has_estate_privilege = estate_artificers_organization_ravelian_control }
					NOT = { has_country_flag = estates_overseen_by_ravelians }
				}
			}
		}
	}
	effect = {
		hidden_effect = {
			Z97_spread_ravelian_estates_ai_acceptance_calc_effect = yes
		}
		if = {
			limit = { FROM = { check_variable = { which = ai_accept_var_button_2 value = 1 } } }
			ROOT = {
				if = {
					limit = { has_estate = estate_mages }
					set_estate_privilege = estate_mages_organization_religious
				}
				if = {
					limit = { has_estate = estate_artificers }
					set_estate_privilege = estate_artificers_organization_ravelian_control
				}
				hidden_effect = {
					set_country_flag = estates_overseen_by_ravelians
				}
			}
		}
		else = {
			custom_tooltip = anb_custom_diplomacy_click_to_query
		}
	}
}
custom_button = { # Z97_spread_ravelian_estates_ai_accept
	name = Z97_spread_ravelian_estates_ai_accept
	tooltip = Z97_spread_ravelian_estates_ai_accept_gate
	potential = { always = yes }
	trigger = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			Z97_spread_ravelian_estates_ai_acceptance_calc_effect = yes
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = { check_variable = { which = ai_accept_var_button_2 value = 1 } }
		}
	}
	frame = {
		number = 1
	}
}

# B02 Corintar
custom_window = {
	name = custom_diplomacy_B02
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6090 }
		}
	}
}
##To do this needs an event to make it work, given the random_list
custom_button = { # B02_spiritual_guidance
	name = B02_spiritual_guidance
	tooltip = B02_spiritual_guidance_tt
	potential = { }
	trigger = {
		if = {
			limit = { NOT = { has_dlc = "Common Sense" } }
			has_dlc = "Common Sense"
		}
		if = {
			limit = {
				ROOT = { NOT = { religion = corinite } }
			}
			ROOT = { religion = corinite }
		}
		if = {
			limit = {
				FROM = { NOT = { religion = corinite } }
			}
			FROM = { religion = corinite }
		}
		# if = { #Instead, sorting effect will check this trigger
		# 	limit = {
		# 		NOT = { has_country_flag = corintar_guidance }
		# 	}
		# 	has_country_flag = corintar_guidance
		# }
		custom_trigger_tooltip = {
			tooltip = corintar_is_already_offering_guidance_tt
			FROM = { NOT = { has_country_modifier = corintar_offering_guidance } }
		}
		FROM = {
			OR = {
				AND = {
					NOT = { karma = 33 }
					custom_trigger_tooltip = {
						tooltip = corintar_paragon_lost_tt
						NOT = { has_country_flag = corintar_high_karma_disabled }
					}
					ROOT = { karma = 33 }
				}
				AND = {
					karma = -33
					custom_trigger_tooltip = {
						tooltip = corintar_chapter_independence_tt
						NOT = { has_country_flag = corintar_low_karma_disabled }
					}
					ROOT = { NOT = { karma = -33 } }
				}
			}
		}
		NOT = { war_with = FROM }
		custom_trigger_tooltip = {
			tooltip = not_recently_used_corintar_guidance_tt
			NOT = { has_country_modifier = corintar_acc_hk }
			NOT = { has_country_modifier = corintar_rej_hk }
			NOT = { has_country_modifier = corintar_acc_lk }
			NOT = { has_country_modifier = corintar_rej_lk }
			NOT = { has_ruler_modifier = corintar_balance_failed }
		}
	}
	effect = {
		FROM = {
			add_country_modifier = {
				name = corintar_offering_guidance
				duration = 3650
			}
		}
		ROOT = {
			country_event = {
				id = flavor_corintar.50
			}
		}
		hidden_effect = {
			ROOT = {
				capital_scope = {
					add_province_triggered_modifier = custom_diplo_ui_B02_spiritual_guidance_ptm
				}
			}
		}
	}
}

# H85 Truedagger
custom_window = {
	name = custom_diplomacy_H85
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6100 }
		}
	}
}
custom_button = { # H85_assassination_attempt_action
	name = H85_assassination_attempt_action
	tooltip = H85_assassination_attempt_action_tt
	potential = { }
	trigger = {
		ROOT = {
			ai = yes
			has_spy_network_from = {
				who = FROM
				value = 60
			}
			has_regency = no
		}
	}
	effect = {
		hidden_effect = {
			ROOT = { save_event_target_as = truedagger_assassination_target }
			FROM = { country_event = { id = flavor_truedagger.7 } }
		}
	}
}

# B37 Rogieria
custom_window = {
	name = custom_diplomacy_B37
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6110 }
		}
	}
}
custom_button = { # B37_invite_shadowmoon_conspiracy
	name = B37_invite_shadowmoon_conspiracy
	tooltip = B37_invite_shadowmoon_conspiracy_tt
	potential = { }
	trigger = {
		if = {
			limit = { NOT = { hre_size = 1 } }
			hre_size = 1
		}
		if = {
			limit = { FROM = { is_emperor = yes } }
			FROM = { is_emperor = no }
		}
		if = {
			limit = { FROM = { mission_completed = rogieria_return_king } }
			FROM = { NOT = { mission_completed = rogieria_return_king } }
		}
		if = {
			limit = { is_emperor = yes }
			is_emperor = no
		}
		is_part_of_hre = yes
		NOT  = { has_country_modifier = rejected_shadowmoon }
		if = {
			limit = { has_country_flag = in_shadowmoon_conspiracy }
			NOT = { has_country_flag = in_shadowmoon_conspiracy }
		}
		has_opinion = {
			who = FROM
			value = 150
		}
	}
	effect = {
		ROOT = { country_event = { id = flavor_rogieria.22 } }
	}
}
# Y25 Zongji
custom_window = {
	name = custom_diplomacy_Y25
	potential = {
		FROM = {
			is_variable_equal = { which = show_diplo_container value = 6120 }
		}
	}
}
custom_button = { # Y25_zongji_fealty_action
	name = Y25_zongji_fealty_action
	tooltip = Y25_zongji_fealty_action_tt
	potential = { }
	trigger = {
		FROM = {
			power_projection = 35
			dip_power = 60
		}
		is_subject = no
		OR = {
			has_reform = eunuch_republic
			has_reform = eunuch_dynasty_reform
			#Hidden alternative requirement
			if = {
				limit = {
					has_country_flag = zongji_fealty_valid
				}
				custom_trigger_tooltip = {
					tooltip = zongji_fealty_action_mission_permits_tt
					always = yes
				}
			}
			else = { hidden_trigger = { always = no } }
		}
		NOT = { total_development = 350 }
		trust = { who = FROM value = 90 }
		has_opinion = {
			who = FROM
			value = 150
		}
	}
	effect = {
		hidden_effect = {
			Y25_fealty_ai_acceptance_calc_effect = yes
		}
		if = {
			limit = { FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } } }
			FROM = {
				add_dip_power = -60
				create_subject = {
					subject_type = vassal
					subject = ROOT
				}
			}
		}
		else = {
			custom_tooltip = anb_custom_diplomacy_click_to_query
		}
	}
}
custom_button = { # Y25_zongji_fealty_action_ai_accept
	name = Y25_zongji_fealty_action_ai_accept
	tooltip = Y25_zongji_fealty_action_ai_accept_gate
	potential = { always = yes }
	trigger = { hidden_trigger = { always = yes } }
	effect = {
		hidden_effect = {
			Y25_fealty_ai_acceptance_calc_effect = yes
		}
	}
	frame = {
		number = 2
		trigger = {
			FROM = { check_variable = { which = ai_accept_var_button_1 value = 1 } }
		}
	}
	frame = {
		number = 1
	}
}