# Unique Magical Projects custom_gui file

##### General instructions
# - The name field must match the respective element in topbar.gui
#    - custom_window = windowType
#    - custom_button = guiButtonType
#    - custom_text_box = instantTextBoxType
#    - custom_icon = iconType
#
##### Definitions
# The default scope is ROOT = the player country scope - therefore use country scope triggers and effects
# potential: This trigger controls when the element is visible
# trigger: Used for custom_button - controls when the button is clickable
# effect: The effect of the button. Accepts custom_tooltip
# tooltip: Uses a loc key to display as a tooltip. Can put custom loc inside the loc string
#	- Note: you must include "tooltip = <loc_key>" in every definition of the same name. Explained below.
# frame: controls which segment of the button/icon image is shown. First true trigger is used.
#	- number:	the frame of the strip to display for the icon or button
#				the percentage the progressbar will be filled
#	- trigger: the conditions under which the frame number will be used
#
#
# Please copy the respective template and replace all instances of the same name within the template
# Each set of projects will need 1 custom_window
# Each unique project requires 1 custom_button (button) and 1 custom_icon (progress bar)
# Optionally, a custom_text_box can be used if the project name requires custom loc
# Optionally, if the project is occasionally hidden and a magic school icon is present
#	it must be defined here, along with the frame.
# The potential field of each element must match
#
# !ATTN Developers and Code Reviewers: Warning!
#	Due to bugs in topbar.gui, each custom_button, custom_text_box, and custom_icon
#	requires additional definitions of the same name
# 	The required definitions have been grouped in the template for convenience
#
#	Each custom_button requires an additional custom_text_box (you must include "tooltip = <loc_key>" in both)
#	Each custom_text_box requires an additional custom_button
#	Each custom_icon requires both a custom_button and custom_text_box
#
# Troubleshooting
# - EU4 crashes on loading into a game
#	- Check your brackets in topbar.gui, UI code is very sensitive and prone to crashing
#	- Check there aren't two elements with the exact same name.
#	- Check you didn't leave template code with an unchanged name. Block comment template code you aren't using yet.
# - Tooltips aren't working
#	- Ensure you have put the "tooltip = <loc_key>" from the custom_button definition in the matching custom_text_box definition
# - Game crashes when reloading topbar.gui
#	- Goodluck
# - The "reloadloc" isn't working for my button text
#	- Unfortunately, it doesn't work for button text



#####################################
#	Regional projects template		#
#####################################
# Mandatory
# Match name with windowType
custom_window = {
	name = template_region_projects_window
	potential = {
		# capital_scope = { region = <region>_region }
		has_country_flag = magic_debug #This is a debug trigger - do not replicate
	}
}
# Button 1
custom_text_box = { name = template_region_project_1 potential = { always = no } tooltip = template_region_project_1.desc }
custom_button = {
	name = template_region_project_1
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_region_project_1 } }
	effect = { start_magic_project = { project = template_region_project_1 } }
	tooltip = template_region_project_1.desc
}
# Progressbar 1
custom_text_box = { name = template_region_project_1_progress potential = { always = no } }
custom_button = { name = template_region_project_1_progress potential = { always = no } }
custom_icon = {
	name = template_region_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = template_region_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_region_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_region_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 1: Optional
custom_button = { name = template_region_project_1_textbox potential = { always = no } }
custom_text_box = {
	name = template_region_project_1_textbox
	# potential = { }
}
# Magic school icon 1: Optional
custom_text_box = { name = template_region_project_1_school_icon potential = { always = no } }
custom_button = { name = template_region_project_1_school_icon potential = { always = no } }
custom_icon = {
	name = template_region_project_1_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 2
custom_text_box = { name = template_region_project_2 potential = { always = no } tooltip = template_region_project_2.desc }
custom_button = {
	name = template_region_project_2
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_region_project_2 } }
	effect = { start_magic_project = { project = template_region_project_2 } }
	tooltip = template_region_project_2.desc
}
# Progressbar 2
custom_text_box = { name = template_region_project_2_progress potential = { always = no } }
custom_button = { name = template_region_project_2_progress potential = { always = no } }
custom_icon = {
	name = template_region_project_2_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_region_project_2 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_region_project_2 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_region_project_2 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 2: Optional
custom_button = { name = template_region_project_2_textbox potential = { always = no } }
custom_text_box = {
	name = template_region_project_2_textbox
	# potential = { }
}
# Magic school icon 2: Optional
custom_text_box = { name = template_region_project_2_school_icon potential = { always = no } }
custom_button = { name = template_region_project_2_school_icon potential = { always = no } }
custom_icon = {
	name = template_region_project_2_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 3
custom_text_box = { name = template_region_project_3 potential = { always = no } tooltip = template_region_project_3.desc }
custom_button = {
	name = template_region_project_3
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_region_project_3 } }
	effect = { start_magic_project = { project = template_region_project_3 } }
	tooltip = template_region_project_3.desc
}
# Progressbar 3
custom_text_box = { name = template_region_project_3_progress potential = { always = no } }
custom_button = { name = template_region_project_3_progress potential = { always = no } }
custom_icon = {
	name = template_region_project_3_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_region_project_3 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_region_project_3 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_region_project_3 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 3: Optional
custom_button = { name = template_region_project_3_textbox potential = { always = no } }
custom_text_box = {
	name = template_region_project_3_textbox
	# potential = { }
}
# Magic school icon 3: Optional
custom_text_box = { name = template_region_project_3_school_icon potential = { always = no } }
custom_button = { name = template_region_project_3_school_icon potential = { always = no } }
custom_icon = {
	name = template_region_project_3_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 4
custom_text_box = { name = template_region_project_4 potential = { always = no } tooltip = template_region_project_4.desc }
custom_button = {
	name = template_region_project_4
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_region_project_4 } }
	effect = { start_magic_project = { project = template_region_project_4 } }
	tooltip = template_region_project_4.desc
}
# Progressbar 4
custom_text_box = { name = template_region_project_4_progress potential = { always = no } }
custom_button = { name = template_region_project_4_progress potential = { always = no } }
custom_icon = {
	name = template_region_project_4_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_region_project_4 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_region_project_4 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_region_project_4 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 4: Optional
custom_button = { name = template_region_project_4_textbox potential = { always = no } }
custom_text_box = {
	name = template_region_project_4_textbox
	# potential = { }
}
# Magic school icon 4: Optional
custom_text_box = { name = template_region_project_4_school_icon potential = { always = no } }
custom_button = { name = template_region_project_4_school_icon potential = { always = no } }
custom_icon = {
	name = template_region_project_4_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}

#####################################
#	Tag unique projects template	#
#####################################
# Mandatory
# Match name with windowType
custom_window = {
	name = template_tag_projects_window
	potential = {
		# capital_scope = { region = <region>_region }
		has_country_flag = magic_debug #This is a debug trigger - do not replicate
	}
}
# Button 1
custom_text_box = { name = template_tag_project_1 potential = { always = no } tooltip = template_tag_project_1.desc }
custom_button = {
	name = template_tag_project_1
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_tag_project_1 } }
	effect = { start_magic_project = { project = template_tag_project_1 } }
	tooltip = template_tag_project_1.desc
}
# Progressbar 1
custom_text_box = { name = template_tag_project_1_progress potential = { always = no } }
custom_button = { name = template_tag_project_1_progress potential = { always = no } }
custom_icon = {
	name = template_tag_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = template_tag_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_tag_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_tag_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 1: Optional
custom_button = { name = template_tag_project_1_textbox potential = { always = no } }
custom_text_box = {
	name = template_tag_project_1_textbox
	# potential = { }
}
# Magic school icon 1: Optional
custom_text_box = { name = template_tag_project_1_school_icon potential = { always = no } }
custom_button = { name = template_tag_project_1_school_icon potential = { always = no } }
custom_icon = {
	name = template_tag_project_1_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 2
custom_text_box = { name = template_tag_project_2 potential = { always = no } tooltip = template_tag_project_2.desc }
custom_button = {
	name = template_tag_project_2
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_tag_project_2 } }
	effect = { start_magic_project = { project = template_tag_project_2 } }
	tooltip = template_tag_project_2.desc
}
# Progressbar 2
custom_text_box = { name = template_tag_project_2_progress potential = { always = no } }
custom_button = { name = template_tag_project_2_progress potential = { always = no } }
custom_icon = {
	name = template_tag_project_2_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_tag_project_2 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_tag_project_2 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_tag_project_2 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 2: Optional
custom_button = { name = template_tag_project_2_textbox potential = { always = no } }
custom_text_box = {
	name = template_tag_project_2_textbox
	# potential = { }
}
# Magic school icon 2: Optional
custom_text_box = { name = template_tag_project_2_school_icon potential = { always = no } }
custom_button = { name = template_tag_project_2_school_icon potential = { always = no } }
custom_icon = {
	name = template_tag_project_2_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 3
custom_text_box = { name = template_tag_project_3 potential = { always = no } tooltip = template_tag_project_3.desc }
custom_button = {
	name = template_tag_project_3
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_tag_project_3 } }
	effect = { start_magic_project = { project = template_tag_project_3 } }
	tooltip = template_tag_project_3.desc
}
# Progressbar 3
custom_text_box = { name = template_tag_project_3_progress potential = { always = no } }
custom_button = { name = template_tag_project_3_progress potential = { always = no } }
custom_icon = {
	name = template_tag_project_3_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_tag_project_3 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_tag_project_3 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_tag_project_3 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 3: Optional
custom_button = { name = template_tag_project_3_textbox potential = { always = no } }
custom_text_box = {
	name = template_tag_project_3_textbox
	# potential = { }
}
# Magic school icon 3: Optional
custom_text_box = { name = template_tag_project_3_school_icon potential = { always = no } }
custom_button = { name = template_tag_project_3_school_icon potential = { always = no } }
custom_icon = {
	name = template_tag_project_3_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 4
custom_text_box = { name = template_tag_project_4 potential = { always = no } tooltip = template_tag_project_4.desc }
custom_button = {
	name = template_tag_project_4
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = template_tag_project_4 } }
	effect = { start_magic_project = { project = template_tag_project_4 } }
	tooltip = template_tag_project_4.desc
}
# Progressbar 4
custom_text_box = { name = template_tag_project_4_progress potential = { always = no } }
custom_button = { name = template_tag_project_4_progress potential = { always = no } }
custom_icon = {
	name = template_tag_project_4_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = template_tag_project_4 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = template_tag_project_4 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = template_tag_project_4 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 4: Optional
custom_button = { name = template_tag_project_4_textbox potential = { always = no } }
custom_text_box = {
	name = template_tag_project_4_textbox
	# potential = { }
}
# Magic school icon 4: Optional
custom_text_box = { name = template_tag_project_4_school_icon potential = { always = no } }
custom_button = { name = template_tag_project_4_school_icon potential = { always = no } }
custom_icon = {
	name = template_tag_project_4_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}

#####################################
#	Example: lencenor region		#
#####################################
# Mandatory
# Match name with windowType
custom_window = {
	name = lencenor_projects_window
	potential = {
		capital_scope = { region = lencenor_region }
		has_country_flag = magic_debug #This is a debug trigger - do not replicate
	}
}
# Button 1
custom_text_box = { name = lencenor_project_1 potential = { always = no } tooltip = lencenor_project_1.desc }
custom_button = {
	name = lencenor_project_1
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lencenor_project_1 } }
	effect = { start_magic_project = { project = lencenor_project_1 } }
	tooltip = lencenor_project_1.desc
}
# Progressbar 1
custom_text_box = { name = lencenor_project_1_progress potential = { always = no } }
custom_button = { name = lencenor_project_1_progress potential = { always = no } }
custom_icon = {
	name = lencenor_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = lencenor_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lencenor_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lencenor_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 1: Optional
custom_button = { name = lencenor_project_1_textbox potential = { always = no } }
custom_text_box = {
	name = lencenor_project_1_textbox
	# potential = { }
}
# Magic school icon 1: Optional
custom_text_box = { name = lencenor_project_1_school_icon potential = { always = no } }
custom_button = { name = lencenor_project_1_school_icon potential = { always = no } }
custom_icon = {
	name = lencenor_project_1_school_icon
	# potential = { } # Optional
	frame = { number = 4 } # Enchantment
}
# Button 2
custom_text_box = { name = lencenor_project_2 potential = { always = no } tooltip = lencenor_project_2.desc }
custom_button = {
	name = lencenor_project_2
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lencenor_project_2 } }
	effect = { start_magic_project = { project = lencenor_project_2 } }
	tooltip = lencenor_project_2.desc
}
# Progressbar 2
custom_text_box = { name = lencenor_project_2_progress potential = { always = no } }
custom_button = { name = lencenor_project_2_progress potential = { always = no } }
custom_icon = {
	name = lencenor_project_2_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lencenor_project_2 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lencenor_project_2 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lencenor_project_2 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 2: Optional
custom_button = { name = lencenor_project_2_textbox potential = { always = no } }
custom_text_box = {
	name = lencenor_project_2_textbox
	# potential = { }
}
# Magic school icon 2: Optional
custom_text_box = { name = lencenor_project_2_school_icon potential = { always = no } }
custom_button = { name = lencenor_project_2_school_icon potential = { always = no } }
custom_icon = {
	name = lencenor_project_2_school_icon
	# potential = { } # Optional
	frame = { number = 8 } # Transmutation
}
# Button 3
custom_text_box = { name = lencenor_project_3 potential = { always = no } tooltip = lencenor_project_3.desc }
custom_button = {
	name = lencenor_project_3
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lencenor_project_3 } }
	effect = { start_magic_project = { project = lencenor_project_3 } }
	tooltip = lencenor_project_3.desc
}
# Progressbar 3
custom_text_box = { name = lencenor_project_3_progress potential = { always = no } }
custom_button = { name = lencenor_project_3_progress potential = { always = no } }
custom_icon = {
	name = lencenor_project_3_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lencenor_project_3 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lencenor_project_3 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lencenor_project_3 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 3: Optional
custom_button = { name = lencenor_project_3_textbox potential = { always = no } }
custom_text_box = {
	name = lencenor_project_3_textbox
	# potential = { }
}
# Magic school icon 3: Optional
custom_text_box = { name = lencenor_project_3_school_icon potential = { always = no } }
custom_button = { name = lencenor_project_3_school_icon potential = { always = no } }
custom_icon = {
	name = lencenor_project_3_school_icon
	# potential = { } # Optional
	frame = { number = 8 } # Transmutation
}
# Button 4
custom_text_box = { name = lencenor_project_4 potential = { always = no } tooltip = lencenor_project_4.desc }
custom_button = {
	name = lencenor_project_4
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lencenor_project_4 } }
	effect = { start_magic_project = { project = lencenor_project_4 } }
	tooltip = lencenor_project_4.desc
}
# Progressbar 4
custom_text_box = { name = lencenor_project_4_progress potential = { always = no } }
custom_button = { name = lencenor_project_4_progress potential = { always = no } }
custom_icon = {
	name = lencenor_project_4_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lencenor_project_4 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lencenor_project_4 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lencenor_project_4 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 4: Optional
custom_button = { name = lencenor_project_4_textbox potential = { always = no } }
custom_text_box = {
	name = lencenor_project_4_textbox
	# potential = { }
}
# Magic school icon 4: Optional
custom_text_box = { name = lencenor_project_4_school_icon potential = { always = no } }
custom_button = { name = lencenor_project_4_school_icon potential = { always = no } }
custom_icon = {
	name = lencenor_project_4_school_icon
	# potential = { } # Optional
	frame = { number = 2 } # Conjuration
}

#####################################
#	Example: Lorent projects		#
#####################################
# Mandatory
# Match name with windowType
custom_window = {
	name = lorent_projects_window
	potential = {
		# capital_scope = { region = <region>_region }
		has_country_flag = magic_debug #This is a debug trigger - do not replicate
	}
}
# Button 1
custom_text_box = { name = lorent_project_1 potential = { always = no } tooltip = lorent_project_1.desc }
custom_button = {
	name = lorent_project_1
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lorent_project_1 } }
	effect = { start_magic_project = { project = lorent_project_1 } }
	tooltip = lorent_project_1.desc
}
# Progressbar 1
custom_text_box = { name = lorent_project_1_progress potential = { always = no } }
custom_button = { name = lorent_project_1_progress potential = { always = no } }
custom_icon = {
	name = lorent_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = lorent_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lorent_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lorent_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 1: Optional
custom_button = { name = lorent_project_1_textbox potential = { always = no } }
custom_text_box = {
	name = lorent_project_1_textbox
	# potential = { }
}
# Magic school icon 1: Optional
custom_text_box = { name = lorent_project_1_school_icon potential = { always = no } }
custom_button = { name = lorent_project_1_school_icon potential = { always = no } }
custom_icon = {
	name = lorent_project_1_school_icon
	# potential = { } # Optional
	frame = { number = 6 } # Illusion
}
# Button 2
custom_text_box = { name = lorent_project_2 potential = { always = no } tooltip = lorent_project_2.desc }
custom_button = {
	name = lorent_project_2
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lorent_project_2 } }
	effect = { start_magic_project = { project = lorent_project_2 } }
	tooltip = lorent_project_2.desc
}
# Progressbar 2
custom_text_box = { name = lorent_project_2_progress potential = { always = no } }
custom_button = { name = lorent_project_2_progress potential = { always = no } }
custom_icon = {
	name = lorent_project_2_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lorent_project_2 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lorent_project_2 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lorent_project_2 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 2: Optional
custom_button = { name = lorent_project_2_textbox potential = { always = no } }
custom_text_box = {
	name = lorent_project_2_textbox
	# potential = { }
}
# Magic school icon 2: Optional
custom_text_box = { name = lorent_project_2_school_icon potential = { always = no } }
custom_button = { name = lorent_project_2_school_icon potential = { always = no } }
custom_icon = {
	name = lorent_project_2_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 3
custom_text_box = { name = lorent_project_3 potential = { always = no } tooltip = lorent_project_3.desc }
custom_button = {
	name = lorent_project_3
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lorent_project_3 } }
	effect = { start_magic_project = { project = lorent_project_3 } }
	tooltip = lorent_project_3.desc
}
# Progressbar 3
custom_text_box = { name = lorent_project_3_progress potential = { always = no } }
custom_button = { name = lorent_project_3_progress potential = { always = no } }
custom_icon = {
	name = lorent_project_3_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lorent_project_3 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lorent_project_3 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lorent_project_3 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 3: Optional
custom_button = { name = lorent_project_3_textbox potential = { always = no } }
custom_text_box = {
	name = lorent_project_3_textbox
	# potential = { }
}
# Magic school icon 3: Optional
custom_text_box = { name = lorent_project_3_school_icon potential = { always = no } }
custom_button = { name = lorent_project_3_school_icon potential = { always = no } }
custom_icon = {
	name = lorent_project_3_school_icon
	# potential = { } # Optional
	frame = { number = 1 } # Abjuration
}
# Button 4
custom_text_box = { name = lorent_project_4 potential = { always = no } tooltip = lorent_project_4.desc }
custom_button = {
	name = lorent_project_4
	# potential = { } # Optional
	trigger = { can_upgrade_project = { project = lorent_project_4 } }
	effect = { start_magic_project = { project = lorent_project_4 } }
	tooltip = lorent_project_4.desc
}
# Progressbar 4
custom_text_box = { name = lorent_project_4_progress potential = { always = no } }
custom_button = { name = lorent_project_4_progress potential = { always = no } }
custom_icon = {
	name = lorent_project_4_progress
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = lorent_project_4 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = lorent_project_4 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = lorent_project_4 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}
# Textbox 4: Optional
custom_button = { name = lorent_project_4_textbox potential = { always = no } }
custom_text_box = {
	name = lorent_project_4_textbox
	# potential = { }
}
# Magic school icon 4: Optional
custom_text_box = { name = lorent_project_4_school_icon potential = { always = no } }
custom_button = { name = lorent_project_4_school_icon potential = { always = no } }
custom_icon = {
	name = lorent_project_4_school_icon
	# potential = { } # Optional
	frame = { number = 3 } # Divination
}

##############################################
##############################################

#Salla Drennen

custom_window = {
	name = drennen_projects_window
	potential = {
		has_country_flag = I28_project_unlock
	}
}
# Button 1
custom_text_box = { name = drennen_project_1 potential = { always = no } tooltip = drennen_project_1.desc }
custom_button = {
	name = drennen_project_1
	# potential = { } # Optional
	trigger = { 
		can_upgrade_project = { 
			project = drennen_project_1 
		} 
		tag = I45
	}
	effect = { start_magic_project = { project = drennen_project_1 } }
	tooltip = drennen_project_1.desc
}
# Progressbar 1
custom_text_box = { name = drennen_project_1_progress potential = { always = no } }
custom_button = { name = drennen_project_1_progress potential = { always = no } }
custom_icon = {
	name = drennen_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = drennen_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = drennen_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = drennen_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}

#Umbral Covenant

custom_window = {
	name = umbral_projects_window
	potential = {
		tag = S90
	}
}
# Button 1
custom_text_box = { name = umbral_project_spire potential = { always = no } tooltip = umbral_project_spire.desc }
custom_button = {
	name = umbral_project_spire
	potential = { 
		has_country_flag = S90_secrets_of_the_spires_unlock
	} # Optional
	trigger = { 
		can_upgrade_project_with_single_stage = {
			project = umbral_project_spire
		}
		tag = S90
	}
	effect = { start_magic_project = { project = umbral_project_spire event_1 = magic_project_umbral_project_spire.1 } }
	tooltip = umbral_project_spire.desc
}
# Progressbar 1
custom_text_box = { name = umbral_project_spire_progress potential = { always = no } }
custom_button = { name = umbral_project_spire_progress potential = { always = no } }
custom_icon = {
	name = umbral_project_spire_progress
	potential = { 
		has_country_flag = S90_secrets_of_the_spires_unlock
	}
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = umbral_project_spire level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}


# Button 2
custom_text_box = { name = umbral_project_ashen potential = { always = no } tooltip = umbral_project_ashen.desc }
custom_button = {
	name = umbral_project_ashen
	potential = { 
		has_country_flag = S90_born_of_ashen_skies_unlock
	}
	trigger = { 
		can_upgrade_project_with_single_stage = {
			project = umbral_project_ashen
		}
	}
	effect = {
		start_magic_project = { 
			project = umbral_project_ashen 
			event_1 = magic_project_umbral_project_ashen.51 
		}
		hidden_effect = {
			set_magic_experience_target = { type = country project = umbral_project_ashen xptarget = 800 }
		}
	}
	tooltip = umbral_project_ashen.desc
}
# Progressbar 2
custom_text_box = { name = umbral_project_ashen_progress potential = { always = no } }
custom_button = { name = umbral_project_ashen_progress potential = { always = no } }
custom_icon = {
	name = umbral_project_ashen_progress
	potential = { 
		has_country_flag = S90_born_of_ashen_skies_unlock
	}
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = umbral_project_ashen level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}


# Button 3
custom_text_box = { name = umbral_project_loveme potential = { always = no } tooltip = umbral_project_loveme.desc }
custom_button = {
	name = umbral_project_loveme
	potential = { 
		has_country_flag = S90_all_shall_love_me_unlock
	}
	trigger = { 
		can_upgrade_project_with_single_stage = {
			project = umbral_project_loveme
		}
	}
	effect = {
		start_magic_project = { project = umbral_project_loveme }
		hidden_effect = {
			set_magic_experience_target = { type = country project = umbral_project_loveme xptarget = 1000 }
		}
	}
	tooltip = umbral_project_loveme.desc
}
# Progressbar 3
custom_text_box = { name = umbral_project_loveme_progress potential = { always = no } }
custom_button = { name = umbral_project_loveme_progress potential = { always = no } }
custom_icon = {
	name = umbral_project_loveme_progress
	potential = { 
		has_country_flag = S90_all_shall_love_me_unlock
	}
	frame = {
		number = 99
		trigger = { exactly_magic_project_level = { project = umbral_project_loveme level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}

#####################################
#	Great Storm Project				#
#####################################
# Mandatory
# Match name with windowType
custom_window = {
	name = great_storm_projects_window
	potential = {
		has_country_flag = I80_windbearing_unlock 
	}
}
# Button 1
custom_text_box = { name = great_storm_project_1 potential = { always = no } tooltip = great_storm_project_1.desc }
custom_button = {
	name = great_storm_project_1
	trigger = { 
		can_upgrade_project = { 
			project = great_storm_project_1 
		} 
		if = {
			limit = { exactly_magic_project_level = { project = great_storm_project_1 level = 1 } }
			custom_trigger_tooltip = {
				tooltip = I80_project_lvl2_tt
				has_country_flag = I80_windbearing_2
			} 
		}
		if = {
			limit = { exactly_magic_project_level = { project = great_storm_project_1 level = 2 } }
			custom_trigger_tooltip = {
				tooltip = I80_project_lvl3_tt
				has_country_flag = I80_windbearing_3
			} 
		}
	}
	effect = { 
		start_magic_project = { 
			project = great_storm_project_1 
			school = evocation 
			event_1 = flavour_great_storm.51
			event_2 = flavour_great_storm.61
			event_3 = flavour_great_storm.71
		} 
	}
	tooltip = great_storm_project_1.desc
}
# Progressbar 1
custom_text_box = { name = great_storm_project_1_progress potential = { always = no } }
custom_button = { name = great_storm_project_1_progress potential = { always = no } }
custom_icon = {
	name = great_storm_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = great_storm_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = great_storm_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = great_storm_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}

#Black Herd
custom_window = {
	name = black_herd_projects_window
	potential = { has_country_flag = I55_project_unlock }
}
# Button 1
custom_text_box = { name = black_herd_project_1 potential = { always = no } tooltip = black_herd_project_1.desc }
custom_button = {
	name = black_herd_project_1
	# potential = { } # Optional
	trigger = { 
		can_upgrade_project = { project = black_herd_project_1 } 
		is_or_was_tag = { tag = I55 } #Black Herd
		if = {
			limit = { at_least_magic_project_level = { project = black_herd_project_1 level = 2 } }
			is_overall_transmutation_level_2_minimum = yes
			is_overall_evocation_level_2_minimum = yes
			is_overall_necromancy_level_1_minimum = yes
			check_variable = { total_land_units_killed = 200000 }
			mission_completed = I55_5_5_compound
		}
		else_if = {
			limit = { at_least_magic_project_level = { project = black_herd_project_1 level = 1 } }
			is_overall_evocation_level_1_minimum = yes
			is_overall_transmutation_level_1_minimum = yes
			OR = {
				is_overall_transmutation_level_2_minimum = yes
				is_overall_evocation_level_2_minimum = yes
			}
			check_variable = { total_land_units_killed = 100000 }
		}
		else = {
			is_overall_transmutation_level_1_minimum = yes
			has_advisor = yes
		}
	}
	effect = {
		start_magic_project = {
			project = black_herd_project_1
			event_1 = black_herd_events.10
			event_2 = black_herd_events.20
			event_3 = black_herd_events.30
		}
	}
	tooltip = black_herd_project_1.desc
}
# Progressbar 1
custom_text_box = { name = black_herd_project_1_progress potential = { always = no } }
custom_button = { name = black_herd_project_1_progress potential = { always = no } }
custom_icon = {
	name = black_herd_project_1_progress
	frame = {
		number = 100
		trigger = { exactly_magic_project_level = { project = black_herd_project_1 level = 3 } }
	}
	frame = {
		number = 66
		trigger = { exactly_magic_project_level = { project = black_herd_project_1 level = 2 } }
	}
	frame = {
		number = 33
		trigger = { exactly_magic_project_level = { project = black_herd_project_1 level = 1 } }
	}
	frame = {
		number = 0
		trigger = { always = yes }
	}
}