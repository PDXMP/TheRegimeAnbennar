gor_vazumbrog_all_vault_relic = {
	has_country_flag = vault_shadowweave_cloak
	has_country_flag = vault_duskgold_cache
	has_country_flag = vault_anvil_of_unmaking
	has_country_flag = vault_crown_of_dominion
	has_country_flag = vault_earthshaper_sphere
	has_country_flag = vault_language_of_stone
	has_country_flag = vault_sealed_fates
	has_country_flag = vault_codex_of_infinite_tactics
	has_country_flag = vault_algorithm_of_eternity
	has_country_flag = vault_endless_ledger
}

gor_vazumbrog_is_hunt_target = {
	OR = {
		AND = {
			province_id = 4217
			OR = {
				4217 = { has_province_modifier = gor_vazumbrog_drakon_infestation }
				NOT = { ROOT = { has_country_flag = drakons_hunt_completed } }
			}
		}
		AND = {
			province_id = 2963
			NOT = { ROOT = { has_country_flag = ironweave_skitterers_hunt_completed } }
		}
		AND = {
			province_id = 4081
			NOT = { ROOT = { has_country_flag = gelatinous_cube_hunt_completed } }
		}
		AND = {
			has_country_flag = purple_worm_hunt_available
			NOT = { has_country_flag = purple_worm_hunt_completed }
			is_capital = yes
		}
		AND = {
			province_id = 7033
			ROOT = { has_country_flag = deepwoods_hunt_unlocked }
			NOT = { ROOT = { has_country_flag = lord_of_beasts_hunt_completed } }
		}
		AND = {
			province_id = 4066
			2878 = { has_province_flag = citadel_province }
			NOT = { ROOT = { has_country_flag = hook_horror_hunt_completed } }
		}
		AND = {
			province_id = 4095
			NOT = { ROOT = { has_country_flag = very_large_troll_hunt_completed } }
		}
		AND = {
			province_id = 4070
			2878 = { has_province_flag = citadel_province }
			NOT = { ROOT = { has_country_flag = spider_matriarch_hunt_completed } }
		}
		AND = {
			province_id = 4080
			ROOT = { has_country_flag = searching_for_dragon }
			NOT = { ROOT = { has_country_flag = oversized_drakon_hunt_completed } }
		}
		AND = {
			province_id = 4223
			ROOT = { has_country_flag = searching_for_dragon }
			NOT = { ROOT = { has_country_flag = mycoloth_hunt_completed } }
		}
		AND = {
			province_id = 4110
			ROOT = { has_country_flag = searching_for_dragon }
			NOT = { ROOT = { has_country_flag = phosphorescent_gas_hunt_completed } }
		}
		AND = {
			province_id = 4269
			ROOT = { has_country_flag = searching_for_rare_ingredients }
			NOT = { ROOT = { has_country_flag = basilisk_hunt_completed } }
		}
		AND = {
			province_id = 2978
			ROOT = { has_country_flag = searching_for_rare_ingredients }
			NOT = { ROOT = { has_country_flag = pale_leviathan_hunt_completed } }
		}
		AND = {
			province_id = 2903
			ROOT = { has_country_flag = bulwar_hunt_unlocked }
			NOT = { ROOT = { has_country_flag = chimaera_hunt_completed } }
		}
		AND = {
			province_id = 4451
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = hydra_hunt_completed } }
		}
		AND = {
			province_id = 5015
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = tlalusk_hunt_completed } }
		}
		AND = {
			province_id = 6214
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = mammoth_herd_hunt_completed } }
		}
		AND = {
			province_id = 3197
			ROOT = {
				has_country_flag = gor_vazumbrog_experienced_hunters
				has_country_flag = bulwar_hunt_unlocked
			}
			NOT = { ROOT = { has_country_flag = bashmu_hunt_completed } }
		}
		AND = {
			province_id = 829
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = silvermere_serpent_hunt_completed } }
		}
		AND = {
			province_id = 4117
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = roc_hunt_completed } }
		}
		AND = {
			province_id = 3016
			ROOT = {
				has_country_flag = deepwoods_hunt_unlocked
				has_country_flag = gor_vazumbrog_experienced_hunters
			}
			NOT = { ROOT = { has_country_flag = blackthorn_colossus_hunt_completed } }
		}
		AND = {
			province_id = 6830
			ROOT = { has_country_flag = gor_vazumbrog_experienced_hunters }
			NOT = { ROOT = { has_country_flag = wendigo_hunt_completed } }
		}
	}
}

# 3 separate hunt triggers, to support 4 states: available, completable, unavailable, done
gor_vazumbrog_hunt_available = {
	NOT = { has_country_flag = $quarry$_hunt_completed }
	OR = {
		owns = $province$
		any_hired_mercenary_company = {
			template = merc_dauvek_veker
		}
		has_country_flag = gor_vazumbrog_shadowweave_scouts_active
	}
}

gor_vazumbrog_hunt_completable = {
	if = {
		limit = {
			owns = $province$
		}
		owns = $province$
	}
	else = {
		custom_trigger_tooltip = {
			tooltip = GV_TT_HUNT_REQUIREMENTS
			OR = {
				any_hired_mercenary_company = {
					template = merc_dauvek_veker
					location = { province_id = $province$ }
				}
				$province$ = {
					gor_vazumbrog_shadowweave_scouts_province = yes
				}
			}
		}
	}
	hidden_trigger = {
		NOT = { has_country_flag = $quarry$_hunt_completed }
	}
}

gor_vazumbrog_hunt_unavailable = {
	hidden_trigger = {
		NOT = { owns = $province$ }
		NOT = {
			OR = {
				any_hired_mercenary_company = {
					template = merc_dauvek_veker
					location = { province_id = $province$ }
				}
				$province$ = {
					gor_vazumbrog_shadowweave_scouts_province = yes
				}
			}
		}
		NOT = { has_country_flag = $quarry$_hunt_completed }
	}
}

gor_vazumbrog_shadowweave_scouts_province = {
	num_of_units_in_province = {
	    who = ROOT
	    amount = 1
	}
	NOT = { country_or_subject_holds = ROOT }
	NOT = { owner = { gives_military_access_to = ROOT } }
	NOT = {
		num_of_units_in_province = {
		    who = ROOT
		    amount = 2
		}
	}
}
