################################################
##              Creator: Blaziy               ##
##               Writer: Parkor               ##
################################################

namespace = black_herd_events

country_event = { #The Last Shamans
	id = black_herd_events.0
	title = black_herd_events.0.t
	desc = black_herd_events.0.desc
	picture = LOOMING_DEATH_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = I55 #Black Herd
	}

	option = {
		name = black_herd_events.0.a
		set_country_flag = annexed_non_monstrous
		set_estate_privilege = estate_mages_monstrous_regiment
		capital_scope = {
			add_culture_construction = {
				cost = 0
				speed = 0.25
			}
		}
		custom_tooltip = I55_no_ogre_subject_tt
	}
}

country_event = { #Leaflets of The Glutton King
	id = black_herd_events.1
	title = black_herd_events.1.t
	desc = black_herd_events.1.desc
	picture = BIG_BOOK_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.1.a
		add_ruler_modifier = {
			name = exceptional_willpower_100
			duration = -1
		}
		set_country_flag = I55_reveal_necromancy_missions_flag
		swap_non_generic_missions = yes
	}
}

country_event = { #Cauterizing History
	id = black_herd_events.2
	title = black_herd_events.2.t
	desc = black_herd_events.2.desc
	picture = FIREBALL_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.2.a
		set_country_flag = I55_project_unlock
		custom_tooltip = I55_project_unlock_tt
	}
}

country_event = { #Emblazing The Deep
	id = black_herd_events.3
	title = black_herd_events.3.t
	desc = black_herd_events.3.desc
	picture = CAVE_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.3.a
		increase_witch_king_points_small = yes
		increase_magic_experience = { unmodified_amount = 50 }
	}

	option = {
		name = black_herd_events.3.b
		trigger = { has_mana = { amount = 20 } }
		increase_witch_king_points_medium = yes
		increase_magic_experience = { unmodified_amount = 100 }
		change_mana = { amount = -20 }
	}
}

country_event = { #Ashen Past
	id = black_herd_events.4
	title = black_herd_events.4.t
	desc = black_herd_events.4.desc
	picture = COPTIC_CITY_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.4.a
		add_treasury = -300
		custom_tooltip = I55_lichdom_potion_tt
		custom_tooltip = I55_home_of_the_greatbound_tt
		set_country_flag = I55_home_of_the_greatbound_flag
		5037 = { #Maghargma
			change_culture = ROOT
			change_religion = ROOT
			hidden_effect = {
				add_province_modifier = {
					name = I55_home_of_the_greatbound
					duration = -1
				}
				add_province_modifier = {
					name = I55_home_of_the_greatbound_sub
					duration = -1
					hidden = yes
				}
			}
		}
	}
}

country_event = { #Starlight
	id = black_herd_events.5
	title = black_herd_events.5.t
	desc = black_herd_events.5.desc
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.5.a
		change_adm = 1
		change_dip = 1
		custom_tooltip = I55_enable_formables_tt
	}

	option = {
		name = black_herd_events.5.b
		change_adm = 1
		change_mil = 1
		custom_tooltip = I55_enable_formables_tt
	}

	option = {
		name = black_herd_events.5.c
		change_dip = 1
		change_mil = 1
		custom_tooltip = I55_enable_formables_tt
	}

	after = { set_country_flag = I55_enable_formables_flag }
}

country_event = { #Event to give you a consort to kill
	id = black_herd_events.7
	title = none
	desc = none
	picture = none

	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes

	option = {
		name = none
		if = {
			limit = { has_consort = no }
			define_consort = { }
		}
	}
}

country_event = { #To break vassalization
	id = black_herd_events.8
	title = none
	desc = none
	picture = none

	is_triggered_only = yes
	hidden = yes

	option = {
		name = none
		grant_independence = yes
	}
}

##################################
# Magical Project Events #

#Stage 1
country_event = { #Illuminating Shadows
	id = black_herd_events.10
	title = black_herd_events.10.t
	desc = black_herd_events.10.desc
	picture = MAGIC_STUDY_AND_RELAX_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.10.a
		if = {
			limit = { has_adm_advisor = yes }
			set_country_flag = I55_adm_advisor_project_flag
			custom_tooltip = I55_adm_advisor_bonus_1_tt
		}
		else_if = {
			limit = { has_dip_advisor = yes }
			set_country_flag = I55_dip_advisor_project_flag
			custom_tooltip = I55_dip_advisor_bonus_1_tt
		}
		else_if = {
			limit = { has_mil_advisor = yes }
			set_country_flag = I55_mil_advisor_project_flag
			custom_tooltip = I55_mil_advisor_bonus_1_tt
		}
	}
}

country_event = { #Lighting The Path
	id = black_herd_events.11
	title = black_herd_events.11.t
	desc = black_herd_events.11.desc
	picture = BONFIRE_OF_THE_VANITIES_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.11.a
		trigger = {
			hidden_trigger = {
				OR = {
					has_country_flag = I55_adm_advisor_project_flag
					has_country_flag = I55_dip_advisor_project_flag
					has_country_flag = I55_mil_advisor_project_flag
				}
			}
		}
		highlight = yes
		increase_magic_experience = { unmodified_amount = 50 }
		if = {
			limit = { has_country_flag = I55_adm_advisor_project_flag }
			custom_tooltip = I55_adm_advisor_bonus_2_tt
		}
		else_if = {
			limit = { has_country_flag = I55_dip_advisor_project_flag }
			custom_tooltip = I55_dip_advisor_bonus_2_tt
		}
		else_if = {
			limit = { has_country_flag = I55_mil_advisor_project_flag }
			custom_tooltip = I55_mil_advisor_bonus_2_tt
		}
	}

	option = {
		name = black_herd_events.11.a #Same option loc
		trigger = {
			hidden_trigger = {
				NOT = {
					has_country_flag = I55_adm_advisor_project_flag
					has_country_flag = I55_dip_advisor_project_flag
					has_country_flag = I55_mil_advisor_project_flag
				}
			}
		}
	}
}

country_event = { #Hidden Event to give magic experience if earned
	id = black_herd_events.110
	title = none
	desc = none
	picture = none

	is_triggered_only = yes
	hidden = yes

	option = {
		name = none
		increase_magic_experience = { unmodified_amount = 50 }
	}
}

country_event = { #History Ignites
	id = black_herd_events.12
	title = black_herd_events.12.t
	desc = black_herd_events.12.desc
	picture = MAGE_MOON_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.12.a
		set_custom_spell_list = { group = centaur subgroup = black_herd }
		set_country_flag = black_herd_project_1_complete_flag
		clr_country_flag = I55_adm_advisor_project_flag
		clr_country_flag = I55_dip_advisor_project_flag
		clr_country_flag = I55_mil_advisor_project_flag
		hidden_effect = { set_variable = { markhentakruan_land_units_killed = 20000 } }
	}
}

#Stage 2
country_event = { #Stoke The Flame
	id = black_herd_events.20
	title = black_herd_events.20.t
	desc = black_herd_events.20.desc
	picture = MAGIC_STUDY_AND_RELAX_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.20.a
		custom_tooltip = I55_causalities_1_tt
		set_country_flag = I55_causalities_project_flag
		hidden_effect = { set_variable = { black_herd_causalities_var = 0 } }
	}
}

country_event = { #Spread The Blaze
	id = black_herd_events.21
	title = black_herd_events.21.t
	desc = black_herd_events.21.desc
	picture = MAGE_MOON_ALTER_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.21.a
		trigger = { hidden_trigger = { check_variable = { black_herd_causalities_var = 10000 } } }
		highlight = yes
		increase_magic_experience = { unmodified_amount = 50 }
		custom_tooltip = I55_causalities_2_tt
		hidden_effect = { set_variable = { black_herd_causalities_var = 0 } }
	}

	option = {
		name = black_herd_events.21.a #Same option loc
		trigger = { NOT = { check_variable = { black_herd_causalities_var = 10000 } } }
		clr_country_flag = I55_causalities_project_flag
	}
}

country_event = { #Hidden Event to give magic experience if earned
	id = black_herd_events.210
	title = none
	desc = none
	picture = none

	is_triggered_only = yes
	hidden = yes

	option = {
		name = none
		increase_magic_experience = { unmodified_amount = 50 }
	}
}

country_event = { #Raise The Inferno
	id = black_herd_events.22
	title = black_herd_events.22.t
	desc = black_herd_events.22.desc
	picture = MAGE_MOON_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.22.a
		custom_tooltip = black_herd_project_2_complete_tt
		change_variable = { magic_projects_completed = 1 }
		set_country_flag = black_herd_project_2_complete_flag
		clr_country_flag = I55_causalities_project_flag
	}
}

#Stage 3
country_event = { #Surpassing Ancients
	id = black_herd_events.30
	title = black_herd_events.30.t
	desc = black_herd_events.30.desc
	picture = MAGIC_STUDY_AND_RELAX_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.30.a
		custom_tooltip = I55_sieges_1_tt
		set_country_flag = I55_sieges_project_flag
		hidden_effect = { set_variable = { black_herd_sieges_var = 0 } }
	}
}

country_event = { #Shattering Stone
	id = black_herd_events.31
	title = black_herd_events.31.t
	desc = black_herd_events.31.desc
	picture = SIEGE_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.31.a
		trigger = { hidden_trigger = { check_variable = { black_herd_sieges_var = 2 } } }
		highlight = yes
		increase_magic_experience = { unmodified_amount = 50 }
		custom_tooltip = I55_sieges_2_tt
		hidden_effect = { set_variable = { black_herd_sieges_var = 0 } }
	}

	option = {
		name = black_herd_events.31.a #Same option loc
		trigger = { NOT = { check_variable = { black_herd_sieges_var = 2 } } }
		clr_country_flag = I55_sieges_project_flag
	}
}

country_event = { #Hidden Event to give magic experience if earned
	id = black_herd_events.310
	title = none
	desc = none
	picture = none

	is_triggered_only = yes
	hidden = yes

	option = {
		name = none
		increase_magic_experience = { unmodified_amount = 50 }
	}
}

country_event = { #Markhentakruan
	id = black_herd_events.32
	title = black_herd_events.32.t
	desc = black_herd_events.32.desc
	picture = MAGE_MOON_eventPicture

	is_triggered_only = yes

	option = {
		name = black_herd_events.32.a
		custom_tooltip = black_herd_project_2_complete_tt
		set_country_flag = black_herd_project_3_complete_flag
		clr_country_flag = I55_sieges_project_flag
	}
}
