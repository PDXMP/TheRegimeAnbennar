namespace = flavour_flying_hound

country_event = { #Starting event
	id = flavour_flying_hound.1
	title = flavour_flying_hound.1.t
	desc = flavour_flying_hound.1.d
	picture = HORDE_ON_HORSEBACK_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = B43
		NOT = { is_year = 1445 }
	}
	
	option = {	
		name = flavour_flying_hound.1.a
		add_country_modifier = { 
			name = B43_who_let_the_dogs_out
			duration = 3650
		}
	}
}

country_event = { #Amongs the Ruins
	id = flavour_flying_hound.2
	title = flavour_flying_hound.2.t
	desc = flavour_flying_hound.2.d
	picture = muslimgfx_GREAT_BUILDING_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.2.a

		797 = { #Devaced
			change_culture = ROOT
			change_religion = ROOT
			add_building_construction = {
				building = native_palisade
				speed = 0.5
				cost = 0
			}
		}
		set_capital = 797 #Devaced
		if = { #If You are purging them
			limit = {
				OR = {
					has_country_modifier = racial_pop_orcish_purge
					has_country_modifier = racial_pop_orcish_expulsion
				}
			}
			797 = { add_devastation = 20 } #Devaced
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
		}
		else = { #If you are chill with them
			791 = { #Godsecker
				change_culture = green_orc
				change_religion = great_dookan
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
		}
		add_prestige = 10
		add_army_tradition = 10
		add_country_modifier = {
			name = B43_scraps
			duration = 7300
		}
		808 = { add_permanent_claim = ROOT } #Vernham
	}
}

country_event = { #Visions of Epic
	id = flavour_flying_hound.3
	title = flavour_flying_hound.3.t
	desc = flavour_flying_hound.3.d
	picture = BIG_BOOK_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.3.a

		custom_tooltip = B43_suttle_foreshadowing.tt
		add_country_modifier = {
			name = B43_radiant_wisdom
			duration = 7300
		}
		country_event = { id = flavour_flying_hound.100 }
	}
}

country_event = { #Tales, pretty little things
	id = flavour_flying_hound.4
	title = flavour_flying_hound.4.t
	desc = flavour_flying_hound.4.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.4.a

		B46 = {
			override_country_name = B43_ORDER_OF_HONOR
			add_army_tradition = 30
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_grasshopper_candidate
	}

	option = {	
		name = flavour_flying_hound.4.b

		B46 = {
			override_country_name = B43_ORDER_OF_RIDERS
			custom_tooltip = B43_dev_4_provinces.tt
			hidden_effect = {
				for = {
					amount = 4
					effect = "
						random_owned_province = {
							add_base_tax = 1
							add_base_production = 1
							add_base_manpower = 1
						}
					"
				}
			}
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_grasshopper_candidate
	}

	option = {	
		name = flavour_flying_hound.4.c

		B46 = {
			override_country_name = B43_ORDER_OF_ADEAN
			add_prestige = -10
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_grasshopper_candidate
		hidden_effect = {
			change_variable = {     
				which = B43_ADEANICA_LOYALTY
				value = 1
			}
		}
	}
}

country_event = { #STOP SCREAMING
	id = flavour_flying_hound.5
	title = flavour_flying_hound.5.t
	desc = flavour_flying_hound.5.d
	picture = ORC_WITH_AXE_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.5.a

		medium_increase_of_orcish_tolerance_effect = yes
		789 = { cede_province = ROOT } #Esckerpost
		794 = {	change_tribal_land = ROOT } #Oudmerewood
		795 = {	change_tribal_land = ROOT } #Acenthan
	}
	option = {	
		name = flavour_flying_hound.5.b

		add_prestige = 20
		add_mil_power = 100
		largest_decrease_of_orcish_tolerance_effect = yes
		789 = { #Esckerpost
			add_base_tax = -2
			add_base_production = -2
			add_base_manpower = -2
			add_devastation = 30
		}
	}
}

country_event = { #The First Covenant
	id = flavour_flying_hound.6
	title = flavour_flying_hound.6.t
	desc = flavour_flying_hound.6.d
	picture = BONFIRE_OF_THE_VANITIES_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.6.a

		create_march = B41 #Earworm
		B41 = { steer_trade = ROOT } #Earworm
		create_march = B46 #Grasshopper Muncher
		B46 = { steer_trade = ROOT } #Grasshopper Muncher
		custom_tooltip = B43_warning.tt
		hidden_effect = {
			if = { 
				limit = { NOT = { government = tribal } }
				change_government = tribal
			}
		}
		add_government_reform = B43_embrace_high_chivalry_reform
	}
}

country_event = { #At the Beasts Grave
	id = flavour_flying_hound.7
	title = flavour_flying_hound.7.t
	desc = flavour_flying_hound.7.d
	picture = COLONIZATION_eventPicture

	is_triggered_only = yes
	trigger = { }
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					OR = {
						has_reform = adventurer_reform
						have_had_reform = adventurer_reform
					}
				}
				save_event_target_as = B43_adventurer_country
			}
			random_known_country = {
				limit = {
					culture_group = orcish
					capital_scope = { superregion = escann_superregion }
				}
				save_event_target_as = B43_orcish_country
			}
			random_owned_province = {
				save_event_target_as = B43_province_1
			}
			random_owned_province = {
				save_event_target_as = B43_province_2
			}
		}
	}
	
	option = {	
		name = flavour_flying_hound.7.a

		add_prestige = 20
		add_splendor = 100
		medium_increase_of_orcish_tolerance_effect = yes
		medium_increase_of_human_tolerance_effect = yes
		event_target:B43_adventurer_country = {
			capital_scope = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			add_opinion = {
				who = ROOT
				modifier = B43_helped_settlers
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = B43_helped_settlers
			}
		}
		event_target:B43_orcish_country = {
			capital_scope = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			add_opinion = {
				who = ROOT
				modifier = B43_helped_settlers
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = B43_helped_settlers
			}
		}
	}
	option = {	
		name = flavour_flying_hound.7.b

		medium_increase_of_orcish_tolerance_effect = yes
		medium_increase_of_human_tolerance_effect = yes
		event_target:B43_province_1 = {
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_human_minority_size_effect = yes
		}
		event_target:B43_province_2 = {
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_orcish_minority_size_effect = yes
		}
	}
	option = {	
		name = flavour_flying_hound.7.c

		small_increase_of_human_tolerance_effect = yes
		largest_decrease_of_orcish_tolerance_effect = yes
		812 = { #Beastgrave
			change_culture = marcher 
			add_devastation = 20
		}
		hidden_effect = {
			change_variable = {     
				which = B43_ADEANICA_LOYALTY
				value = 1
			}
		}
	}
}

country_event = { #The Ravens Call
	id = flavour_flying_hound.8
	title = flavour_flying_hound.8.t
	desc = flavour_flying_hound.8.d
	picture = CRUSADER_HORDE_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.8.a

		if = {
			limit = {
				OR = {
					B14 = { #Raven Banner
						exists = yes
						ai = yes
					}
					B48 = { #Ravenmarch
						exists = yes
						ai = yes
					}
				}
			}
			vassalize = B14 #Raven Banner
			vassalize = B48 #Ravenmarch
		}
		add_casus_belli = {
			target = A59
			type = cb_evil_ruler
			months = 6000
		}
	}
}

country_event = { #Midnight Ends
	id = flavour_flying_hound.9
	title = flavour_flying_hound.9.t
	desc = flavour_flying_hound.9.d
	picture = BYZ_REVOLUTION_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.9.a

		add_treasury = 500
		add_prestige = 20
		add_power_projection = { 
			type = 10_permanent_power_projection
			amount = 10
		}
		B43_corvuria_crusade_effect = yes
	}
	option = {	
		name = flavour_flying_hound.9.b

		add_splendor = 300
		add_prestige = 30
		add_power_projection = { 
			type = 10_permanent_power_projection
			amount = 10
		}
		B43_corvuria_crusade_effect = yes
	}
	option = {	
		name = flavour_flying_hound.9.b

		add_prestige = 10
		B43_corvuria_crusade_effect = yes
		hidden_effect = {
			change_variable = {     
				which = B43_ADEANICA_LOYALTY
				value = 1
			}
		}
	}
}

country_event = { #Assemble the Round Table
	id = flavour_flying_hound.10
	title = flavour_flying_hound.10.t
	desc = flavour_flying_hound.10.d
	picture = KNIGHTS_eventPicture

	is_triggered_only = yes
	trigger = { }

	option = {	#Goblin Formable
		name = flavour_flying_hound.10.a

		custom_tooltip = B43_block_blademarches.tt
		set_country_flag = B43_bladeless_flag
		vassalize = B41 #Earworm
		vassalize = B46 #Flying Hound
		add_country_modifier = { 
			name = B43_unite_the_clans
			duration = 7300
		}
		remove_country_modifier = B43_the_prideful_bunch
		add_country_modifier = {
			name = B43_wardens_of_the_garden
			duration = -1
		}
		decrease_monstrous_10 = yes
	}

	option = {	#Blademarches
		name = flavour_flying_hound.10.b

		custom_tooltip = B43_block_goblin_formables.tt
		set_country_flag = B43_goblinless_formable_flag
		custom_tooltip = B43_forming_blademarches_culture.tt
		B41 = { #Earworm
			custom_tooltip = B43_annex_vassal.tt
			hidden_effect = {
				every_owned_province = {
					remove_core = PREV
					add_core = ROOT
					cede_province = ROOT
					ROOT = { add_dip_power = -2 }
				}
			}
		}
		vassalize = B46 #Flying Hound
		remove_country_modifier = B43_the_prideful_bunch
		add_country_modifier = {
			name = B43_pride_of_the_gleaming_knights
			duration = -1
		}
		decrease_monstrous_10 = yes
	}

	option = {	#Secret Adenica
		name = flavour_flying_hound.10.c
		trigger = {
			hidden_trigger = {
				NOT = { has_country_modifier = monstrous_nation }
				check_variable = {
					which = B43_ADEANICA_LOYALTY
					value = 3
				}
			}
		}
		highlight = yes

		hidden_effect = {
			B46 = { #Grasshopper Muncher
				custom_tooltip = B43_annex_vassal.tt
				hidden_effect = {
					every_owned_province = {
						remove_core = PREV
						add_core = ROOT
						cede_province = ROOT
						ROOT = { add_dip_power = -2 }
					}
				}
			}
		}
		form_adenica_scripted_effect = yes 
		override_country_name = B43_VEZ_ADEANSKLAN
		remove_country_modifier = B43_the_prideful_bunch
		add_country_modifier = {
			name = B43_rise_of_the_adean_clan
			duration = -1
		}
		change_religion = regent_court
		hidden_effect = {
			set_ruler_religion = regent_court
			set_consort_religion = regent_court
			change_personal_deity = adean
			country_event = { id = favored_RC.16 }
		}
		change_primary_culture = knightsworn_goblin
		anb_add_accepted_culture_or_dip_power = { culture = common_goblin free = yes }
		hidden_effect = {
			set_ruler_culture = knightsworn_goblin
			set_consort_culture = knightsworn_goblin
		}
		custom_tooltip = B43_every_owned_province_change_culture.tt
		hidden_effect = {
			every_owned_or_subject_province = {
				limit = { culture_group = goblin }
				change_culture = knightsworn_goblin
			}
		}
		vassalize = B41 #Earworm
		tooltip = {
			B46 = { #Grasshopper Muncher
				custom_tooltip = B43_annex_vassal.tt
			}
		}
		set_country_flag = B43_goblinless_formable_flag
		set_country_flag = B43_bladeless_flag
	}
}

country_event = { #We Shall Endure
	id = flavour_flying_hound.11
	title = flavour_flying_hound.11.t
	desc = flavour_flying_hound.11.d
	picture = STREET_SPEECH_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.11.a

		force_remove_rival = B41 #Earworm
		B41 = { force_remove_rival = ROOT }
		force_remove_rival = B46 #Grasshopper Muncher
		B46 = { force_remove_rival = ROOT }
		create_alliance = B41
		add_historical_friend = B41
		add_opinion = {
			who = B41
			modifier = B43_we_shall_endure
		}
		reverse_add_opinion = {
			who = B41
			modifier = renounced_as_heretics
		}
		create_guarantee = B46
		if = {
			limit = { ai = no }
			set_country_flag = B43_defend_grasshopper
		}
		custom_tooltip = B43_defend_grasshopper_tooltip
	}
}

country_event = { #The Ravens Chicks
	id = flavour_flying_hound.12
	title = flavour_flying_hound.12.t
	desc = flavour_flying_hound.12.d
	picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {
		name = flavour_flying_hound.12.a

		add_stability = 1
		add_prestige = 5
		add_army_tradition = 10
	}

	option = {
		name = flavour_flying_hound.12.b

		add_prestige = 10
		medium_increase_of_human_tolerance_effect = yes
		custom_tooltip = B43_adventurer_opinion.tt
		hidden_effect = {
			every_known_country = {
				limit = {
					OR = {
						has_reform = adventurer_reform
						have_had_reform = adventurer_reform
					}
				}
				add_opinion = {
					who = ROOT
					modifier = B43_helped_settlers
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = B43_helped_settlers
				}
			}
		}
	}

	option = {
		name = flavour_flying_hound.12.c

		add_prestige = -30
		small_increase_of_human_tolerance_effect = yes
		797 = { add_human_minority_size_effect = yes }
		hidden_effect = {
			change_variable = {     
				which = B43_ADEANICA_LOYALTY
				value = 1
			}
		}
	}
}

country_event = { #Broken Blade
	id = flavour_flying_hound.13
	title = flavour_flying_hound.13.t
	desc = flavour_flying_hound.13.d
	picture = FORGE_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.13.a

		country_event = { id = flavour_flying_hound.14 days = 365 }
	}
}

country_event = { #Blinding Gleam
	id = flavour_flying_hound.14
	title = flavour_flying_hound.14.t
	desc = flavour_flying_hound.14.d
	picture = SWORD_OF_OSMAN_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.14.a

		add_prestige = 20
		add_legitimacy_equivalent = { amount = 20 republican_tradition = 10 }
		add_country_modifier = {
			name = B43_steward_of_calindal
			duration = -1
		}
		give_bladeskeep_monument_worthy_reward = yes
		if = { 
			limit = { NOT = { owns = 817 } }
			B41 = {
				add_country_modifier = {
					name = B43_steward_of_calindal
					duration = -1
				}
				give_bladeskeep_monument_worthy_reward = yes 
			}
		}
		817 = { #Bladeskeep
			change_culture = ROOT
			change_religion = ROOT
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
			add_prosperity = 30
		}
	}
}

country_event = { #Atop the Hills of Gleam
	id = flavour_flying_hound.15
	title = flavour_flying_hound.15.t
	desc = flavour_flying_hound.15.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {
		name = flavour_flying_hound.15.a

		B41 = { #Earworm
			override_country_name = B43_ORDER_OF_THE_BLADE
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
			add_army_tradition = 30
			set_capital = 817 #Bladeskeep
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_earworm_candidate
	}
	option = {
		name = flavour_flying_hound.15.b

		B41 = { #Earworm
			override_country_name = B43_ORDER_OF_PRIDE
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
			custom_tooltip = B43_4_random_provinces_1_dev.tt
			hidden_effect = {
				random_owned_province = { add_base_tax = 1 add_base_production = 1 add_base_manpower = 1 }
				random_owned_province = { add_base_tax = 1 add_base_production = 1 add_base_manpower = 1 }
				random_owned_province = { add_base_tax = 1 add_base_production = 1 add_base_manpower = 1 }
				random_owned_province = { add_base_tax = 1 add_base_production = 1 add_base_manpower = 1 }
			}
			set_capital = 817 #Bladeskeep
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_earworm_candidate
	}
	option = {
		name = flavour_flying_hound.15.c

		add_prestige = -10
		B41 = { #Earworm
			override_country_name = B43_ORDER_OF_THE_BLINDING_GLEAM
			add_country_modifier = {
				name = B43_marcher_goblins
				duration = -1
			}
			unlock_cult = cannorian_cult
			set_capital = 817 #Bladeskeep
		}
		custom_tooltip = B43_unlock_new_candidate.tt
		set_country_flag = B43_earworm_candidate
		hidden_effect = {
			change_variable = {     
				which = B43_ADEANICA_LOYALTY
				value = 1
			}
		}
	}
}


country_event = { #Organize the New Sons
	id = flavour_flying_hound.16
	title = flavour_flying_hound.16.t
	desc = flavour_flying_hound.16.d
	picture = DISCIPLINED_SOLDIERS_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {
		name = flavour_flying_hound.16.a

		add_country_modifier = {
			name = B43_mighty_warriors_of_pride
			duration = -1
		}
	}

	option = {
		name = flavour_flying_hound.16.b

		add_country_modifier = {
			name = B43_march_of_the_chivalric_horde
			duration = -1
		}
	}
}


#Sack of x (COPY)
country_event = {
	id = flavour_flying_hound.100
	title = army_professionalism_events.1.t
	desc = army_professionalism_events.1.d
	picture = NOT_DISCIPLINED_SOLDIERS_eventPicture
	goto = event_target:flying_hound_occupied_capital

	trigger = { }
	is_triggered_only = yes

	option = {
		name = army_professionalism_events.1.b #We We need better discipline! (and salaries)
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				years_of_income = 0.5
			}
		}
		add_army_professionalism = 0.05
		add_years_of_income = -0.25
		event_target:flying_hound_occupied_capital = {
			province_event = { id = army_professionalism_events.2 }
			tooltip = {
				add_devastation = 50
			}
		}
		decrease_monstrous_2 = yes
	}
	option = {
		name = army_professionalism_events.1.a #We must punish the perpetrators
		ai_chance = {
			factor = 50
		}
		add_prestige = -5
		event_target:flying_hound_occupied_capital = {
			province_event = { id = army_professionalism_events.18 }
			tooltip = {
				add_devastation = 75
			}
		}
		tooltip = {
			event_target:attacked_country = {
				add_opinion = {
					who = ROOT
					modifier = sack_of_x
				}
			}
		}
		decrease_monstrous_1 = yes
	}
	option = {
		name = army_professionalism_events.1.c #Such are the rules of warfare
		trigger = {
			NOT = {
				event_target:flying_hound_occupied_capital = {
					is_capital = yes
					owned_by = Z47
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_core = event_target:flying_hound_occupied_capital
			}
			modifier = {
				factor = 0
				primary_culture = event_target:flying_hound_occupied_capital
			}
			modifier = {
				factor = 5
				has_reform = steppe_horde
			}
		}
		add_army_professionalism = -0.05
		add_prestige = -10
		add_horde_unity = 5
		add_loot_from_province_effect = yes
		event_target:flying_hound_occupied_capital = {
			province_event = { id = army_professionalism_events.3 }
			tooltip = {
				add_devastation = 100
				add_base_production = -2
			}
		}
		tooltip = {
			event_target:attacked_country = {
				add_opinion = {
					who = ROOT
					modifier = sack_of_x
				}
				add_country_modifier = {
					name = "enemies_sacked_city"
					duration = 3650
				}
			}
		}
		increase_monstrous_2 = yes
	}
}




country_event = { #Favored by Chivalric Pride
	id = flavour_flying_hound.300
	title = flavour_flying_hound.300.t
	desc = flavour_flying_hound.300.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes
	trigger = { 
		has_primary_cult = { cult = chivalry_cult }
		has_regency = no
		OR = {
			ruler_has_personality = just_personality
			ruler_has_personality = zealot_personality
			ruler_has_personality = silver_tongue_personality
			ruler_has_personality = strict_personality
			ruler_has_personality = inspiring_leader_personality
			has_ruler_modifier = B43_the_last_knight
		}
		NOT = { 
			has_ruler_flag = B43_studied_chivalry 
			has_ruler_modifier = favored_chivalry_t_a
			has_ruler_modifier = favored_chivalry_t_b
		}
	}
	
	option = {	
		name = flavour_flying_hound.300.a

		add_ruler_modifier = {
			name = favored_chivalry_t_a
			hidden = yes
			duration = -1
		}
		add_ruler_modifier = {
			name = B43_contemplating_the_blade
			duration = 1825
		}
		custom_tooltip = favored_tt
		tooltip = {
			add_ruler_modifier = {
				name = B43_chivalry_emulant_1
				duration = -1
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_flying_hound.301
				days = 1826
			}
		}
	}
	option = {	
		name = flavour_flying_hound.300.b

		add_ruler_modifier = {
			name = favored_chivalry_t_b
			hidden = yes
			duration = -1
		}
		add_ruler_modifier = {
			name = B43_contemplating_the_blade
			duration = 1825
		}
		custom_tooltip = favored_tt
		tooltip = {
			add_ruler_modifier = {
				name = B43_chivalry_emulant_2
				duration = -1
			}
		}
		hidden_effect = {
			country_event = {
				id = flavour_flying_hound.301
				days = 1826
			}
		}
	}

	option = {
		name = flavour_flying_hound.300.c
		add_prestige = 2
		set_ruler_flag = B43_studied_chivalry
	}
}

country_event = { #Emulant of Chivalry
	id = flavour_flying_hound.301
	title = flavour_flying_hound.301.t
	desc = {
		trigger = {
			has_ruler_modifier = favored_chivalry_t_a
		}
		desc = flavour_flying_hound.301.da
	}
	desc = {
		trigger = {
			has_ruler_modifier = favored_chivalry_t_b
		}
		desc = flavour_flying_hound.301.db
	}
	picture = RELIGION_eventPicture

	is_triggered_only = yes
	trigger = {
		OR = {
			has_ruler_modifier = favored_chivalry_t_a
			has_ruler_modifier = favored_chivalry_t_b
		}
	}
	
	option = {	
		name = flavour_flying_hound.301.a
		trigger = { has_ruler_modifier = favored_chivalry_t_a }

		add_ruler_modifier = {
			name = B43_chivalry_emulant_1
			duration = -1
		}
	}
	option = {
		name = flavour_flying_hound.301.b
		trigger = { has_ruler_modifier = favored_chivalry_t_b }

		add_ruler_modifier = {
			name = B43_chivalry_emulant_2
			duration = -1
		}
	}
}



#Chivalric Tournament Elections
country_event = { #Call of the Mighty
	id = flavour_flying_hound.1000
	title = flavour_flying_hound.1000.t
	desc = flavour_flying_hound.1000.d
	picture = northamericagfx_DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes
	trigger = { has_government_attribute = B43_chivalric_election }

	option = {	
		name = flavour_flying_hound.1000.a

		define_ruler = {
			name = "The Conclave of Colleges"
			adm = 2
			dip = 2
			mil = 2
			regency = { estate = estate_nobles }
		}
		country_event = { id = flavour_flying_hound.1001 days = 30 }
	}
}

country_event = { #A Test of Dexterity
	id = flavour_flying_hound.1001
	title = flavour_flying_hound.1001.t
	desc = flavour_flying_hound.1001.d
	picture = muslimgfx_TOURNAMENT_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.1001.a

		random_list = {
			50 = {
				custom_tooltip = B43_ruler_may_get_1_admin.tt
				set_country_flag = B43_gains_1_adm_flag
			}
			50 = { }
		}
		if = {
			limit = { mission_completed = B43_claim_the_gleam }
			random_list = {
				40 = { add_stability = 1 }
				60 = { }
			}
		}
		hidden_effect = { country_event = { id = flavour_flying_hound.1002 } }
	}
}

country_event = { #A Test of Glory
	id = flavour_flying_hound.1002
	title = flavour_flying_hound.1002.t
	desc = flavour_flying_hound.1002.d
	picture = TOURNAMENT_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.1002.a

		random_list = {
			50 = {
				custom_tooltip = B43_ruler_may_get_1_dip.tt
				set_country_flag = B43_gains_1_dip_flag
			}
			50 = { }
		}
		if = {
			limit = { mission_completed = B43_children_of_escann }
			add_prestige = 10
			add_splendor = 20
		}
		hidden_effect = { country_event = { id = flavour_flying_hound.1003 } }
	}
}

country_event = { #A Test of Skill
	id = flavour_flying_hound.1003
	title = flavour_flying_hound.1003.t
	desc = flavour_flying_hound.1003.d
	picture = SOLDIER_INFIGHTING_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = {	
		name = flavour_flying_hound.1003.a

		random_list = {
			50 = {
				custom_tooltip = B43_ruler_may_get_1_mil.tt
				set_country_flag = B43_gains_1_mil_flag
			}
			50 = { }
		}
		if = {
			limit = { mission_completed = B43_knights_of_the_garden }
			random_list = {
				30 = {
					custom_tooltip = B43_may_gain_last_knight_trait.tt
					set_country_flag = B43_gain_last_knight_flag
				}
				70 = { }
			}
		}
		hidden_effect = { country_event = { id = flavour_flying_hound.1003 } }
	}
}

country_event = { #Tournament Ends
	id = flavour_flying_hound.1004
	title = flavour_flying_hound.1004.t
	desc = flavour_flying_hound.1004.d
	picture = MILITARISTICALLY_TALENTED_RULER_eventPicture

	is_triggered_only = yes
	trigger = { }
	
	option = { #Royal School
		name = flavour_flying_hound.1004.a

		define_ruler = {
			adm = 4
			max_random_dip  = 3
			max_random_mil  = 3
			max_age = 40
			claim = 95
		}
		add_ruler_modifier = {
			name = B43_sons_of_the_hounds
			duration = -1
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_adm_flag }
			change_adm = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_dip_flag }
			change_dip = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_mil_flag }
			change_mil = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = {
			limit = { has_country_flag = B43_gain_last_knight_flag }
			add_ruler_modifier = {
				name = B43_the_last_knight
				duration = -1
			}
			clr_country_flag = B43_gain_last_knight_flag	
		}
	}
	option = { #Flying Knights School
		name = flavour_flying_hound.1004.b

		define_ruler = {
			max_random_adm = 3
			max_random_dip  = 3
			mil = 4
			max_age = 40
			claim = 95
		}
		add_ruler_modifier = {
			name = B43_the_namesake
			duration = -1
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_adm_flag }
			change_adm = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_dip_flag }
			change_dip = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_mil_flag }
			change_mil = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = {
			limit = { has_country_flag = B43_gain_last_knight_flag }
			add_ruler_modifier = {
				name = B43_the_last_knight
				duration = -1
			}
			clr_country_flag = B43_gain_last_knight_flag	
		}
	}
	option = { #Grasshopper Knights
		name = flavour_flying_hound.1004.c
		trigger = { has_country_flag = B43_grasshopper_candidate }

		define_ruler = {
			adm = 2
			dip = 2
			mil = 2
			max_age = 40
			claim = 95
		}
		add_army_tradition = 15
		if = {
			limit = { government = tribal }
			add_ruler_personality = calm_personality
		}
		else = {
			add_ruler_personality = careful_personality
		}
		add_ruler_modifier = {
			name = B43_the_grasshopper_knights
			duration = -1
		}
		custom_tooltip = B43_grasshopper_knights.tt
		if = { 
			limit = { has_country_flag = B43_gains_1_adm_flag }
			change_adm = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_dip_flag }
			change_dip = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_mil_flag }
			change_mil = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = {
			limit = { has_country_flag = B43_gain_last_knight_flag }
			add_ruler_modifier = {
				name = B43_the_last_knight
				duration = -1
			}
			clr_country_flag = B43_gain_last_knight_flag	
		}
	}
	option = { #Earworm Knight
		name = flavour_flying_hound.1004.e
		trigger = { has_country_flag = B43_earworm_candidate }

		define_ruler = {
			adm = 3
			max_random_adm = 5
			dip = 3
			max_random_dip = 5
			mil = 3
			max_random_mil = 5
			max_age = 40
			claim = 95
		}
		add_prestige = 10
		add_ruler_modifier = {
			name = B43_calindals_pride
			duration = -1
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_adm_flag }
			change_adm = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_dip_flag }
			change_dip = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_mil_flag }
			change_mil = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = {
			limit = { has_country_flag = B43_gain_last_knight_flag }
			add_ruler_modifier = {
				name = B43_the_last_knight
				duration = -1
			}
			clr_country_flag = B43_gain_last_knight_flag	
		}
	}
	option = {	#Human Knight
		name = flavour_flying_hound.1004.f
		trigger = { has_country_flag = B43_human_candidate }

		random_list = {
			33 = {
				define_ruler = {
					culture = east_damerian
					max_age = 40
					claim = 95
				}
			}
			33 = {
				define_ruler = {
					culture = adenner
					max_age = 40
					claim = 95
				}
			}
			33 = {
				define_ruler = {
					culture = high_lorentish
					max_age = 40
					claim = 95
				}
			}
		}
		if = {
			limit = { NOT = { government = tribal } }
			give_random_good_ruler_personality = yes
		}
		else = {
			give_random_ruler_personality = yes
		}
		add_ruler_modifier = {
			name = B43_the_human_candidate
			duration = -1
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_adm_flag }
			change_adm = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_dip_flag }
			change_dip = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = { 
			limit = { has_country_flag = B43_gains_1_mil_flag }
			change_mil = 1
			clr_country_flag = B43_gains_1_adm_flag
		}
		if = {
			limit = { has_country_flag = B43_gain_last_knight_flag }
			add_ruler_modifier = {
				name = B43_the_last_knight
				duration = -1
			}
			clr_country_flag = B43_gain_last_knight_flag	
		}
	}
	after = {
		convert_ruler_to_general = yes
	}
}
