namespace = flavour_dogeater
#The Rabid of Dogwood
country_event = {
	id = flavour_dogeater.0
	title = flavour_dogeater.0.t
	desc = flavour_dogeater.0.d
	picture = ORC_WITH_AXE_eventPicture

	trigger = {
		tag = B28
	}
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			every_country = {
				limit = {
					culture = green_orc
					NOT = { tag = ROOT }
				}
				add_opinion = {
					who = B28
					modifier = B28_mockery
				}
				B28 = {
					add_opinion = {
						who = PREV
						modifier = B28_mockery
					}
				}
			}
		}
	}
	option = {
		name = flavour_dogeater.0.a
		custom_tooltip = B28_mission_tt
		define_ruler_to_general = {
				fire = 0
				shock = 6
				manuever = 4
				siege = 1
		}
		add_ruler_modifier = {
			name = exceptional_willpower_75
		}
		add_ruler_modifier = {
			name = B28_no_babies
		}
		hidden_effect = {
			set_country_flag = B28_death_check
			set_ruler_flag = disabled_heir_events
			set_country_flag = count_battles_won
			set_variable = {
				which = battle_won_go
				value = 0
			}
			set_variable = {
				which = battle_won_rc
				value = 0
			}
			set_variable = {
				which = battle_won_dush
				value = 0
			}
		}
		tooltip = {
			every_country = {
				limit = {
					culture = green_orc
					NOT = { tag = ROOT }
				}
				add_opinion = {
					who = B28
					modifier = B28_mockery
				}
				B28 = {
					add_opinion = {
						who = PREV
						modifier = B28_mockery
					}
				}
			}
		}
	}
}
#Dush Surges Through Enemy Lines
country_event = {
	id = flavour_dogeater.11
	title = flavour_dogeater.11.t
	desc = {
        trigger = { is_at_war = yes }
        desc = flavour_dogeater.11.d
    }
    desc = {
        trigger = { is_at_war = no }
        desc = flavour_dogeater.12.d
    }
	picture = BATTLE_eventPicture
	trigger = {
		tag = B28
		has_country_flag = B28_death_check
	}
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavour_dogeater.11.a
		hidden_effect = {
			define_heir = {
				name = "Dûsh"
				dynasty = "Dogeater"
				adm = 0
				dip = 0
				mil = 0
				birth_date = 1420.11.16
				claim = 100
				male = yes
			}
			kill_ruler = yes
		}
		tooltip = {
				define_ruler = {
				name = "Dûsh"
				dynasty = "Dogeater"
			}
		}
		define_ruler_to_general = {
				fire = 0
				shock = 6
				manuever = 4
				siege = 1
		}
		add_ruler_modifier = {
			name = exceptional_willpower_75
		}
		add_ruler_modifier = {
			name = B28_no_babies
		}
		add_prestige = 5
		add_stability = 1
		hidden_effect = {
			clr_country_flag = B28_death_check
			set_ruler_flag = dush_dogeater
			set_ruler_flag = disabled_heir_events
			if = {
				limit = {
					mission_completed = B28_break_their_bones
					check_variable = {
						which = battle_won_dush
						value = 30
					}
				}
				add_ruler_modifier = {
					name = B28_the_rabid_3
				}
				change_mil = 2
			}
			else_if = {
				limit = {
					mission_completed = B28_break_their_bones
					check_variable = {
						which = battle_won_dush
						value = 15
					}
				}
				add_ruler_modifier = {
					name = B28_the_rabid_2
				}
				change_mil = 2
			}
			else_if = {
				limit = {
					mission_completed = B28_break_their_bones
				}
				add_ruler_modifier = {
					name = B28_the_rabid_1
				}
			}
			if = {
				limit = {
					religion = bulgu_orazan
					mission_completed = B28_thoughtdeath
				}
				add_ruler_modifier = {
					name = B28_the_composer_singer_and_instrument
				}
			}
			if = {
				limit = {
					mission_completed = B28_mightiest_of_allkind
				}
				change_dip = 2
				add_ruler_personality = inspiring_leader_personality
			}
			else = {
				add_ruler_personality = babbling_buffoon_personality
			}
			if = {
				limit = {
					mission_completed = B28_korgus_the_bogus
				}
				add_ruler_personality = bold_fighter_personality
			}
			else = {
				add_ruler_personality = drunkard_personality
			}
		}
	}
}


#Wargs Breakout!
country_event = {
	id = flavour_dogeater.13
	title = flavour_dogeater.13.t
	desc = flavour_dogeater.13.d
	picture = BORDER_TENSION_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.13.a
		every_owned_province = {
			limit = {
				has_province_modifier = B28_warg_feeding_ground
			}
			if = {
				limit = { development = 40 }
				spawn_rebels = {
					type = warg_rebels
					size = 4
				}
			}
			else_if = {
				limit = { development = 30 }
				spawn_rebels = {
					type = warg_rebels
					size = 3
				}
			}
			else_if = {
				limit = { development = 20 }
				spawn_rebels = {
					type = warg_rebels
					size = 2
				}
			}
			else = {
				spawn_rebels = {
					type = warg_rebels
					size = 1
				}
			}
		}
	}
}

#Triumph of the Mindless
country_event = {
	id = flavour_dogeater.2
	title = flavour_dogeater.2.t
	desc = flavour_dogeater.2.d
	picture = VILLAGE_BURNING_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.2.a
		add_prestige = 10
		add_power_projection = { 
			type = mission_rewards_power_projection
			amount = 20
		}
		add_mil_power = 50
		add_dip_power = 50
		add_adm_power = 50
		every_known_country = {
			limit = {
				alliance_with = B24 
			}
			white_peace = B28
		}
		inherit = B24
		every_owned_province = {
			limit = {
				is_core = B24
			}
			add_province_modifier = {
				name = B28_clouded_eye_unrest
				duration = 3650
			}
		}
		sarwood_area = {
			limit = { is_empty = yes }
			settle_province = ROOT
		}
	}
}
#Societal Collapse
country_event = {
	id = flavour_dogeater.3
	title = flavour_dogeater.3.t
	desc = flavour_dogeater.3.d
	picture = muslimgfx_SIEGE_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.3.a
		if = {
			limit = { NOT = { stability = -2 } }
			add_mil_power = 150
		}
		else_if = {
			limit = { NOT = { stability = -1 } }
			add_mil_power = 100
		}
		else_if = {
			limit = { NOT = { stability = 0 } }
			add_mil_power = 50
		}
		add_government_reform = B28_rule_of_the_strong
	}
}
#One Last Riot
country_event = {
	id = flavour_dogeater.41
	title = flavour_dogeater.41.t
	desc = flavour_dogeater.41.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes
	
	option = {
		name = flavour_dogeater.41.a
		hidden_effect = {
			clr_country_flag = B28_death_check
		}
		kill_ruler = yes
		add_country_modifier = {
			name = B28_legacy_of_the_anarch_of_dookan
			duration = -1
		}
	}
}
#devastation adding
province_event = {
	id = flavour_dogeater.999
	title = flavour_dogeater.999.t
	desc = flavour_dogeater.999.d
	picture = ORC_WITH_AXE_eventPicture

	hidden = yes
	is_triggered_only = yes

	immediate = {
		add_devastation = 50
	}
	option = {
		name = flavour_dogeater.999.a
	}
}
#Chaos's Zenith
country_event = {
	id = flavour_dogeater.100
	title = flavour_dogeater.100.t
	desc = flavour_dogeater.100.d
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes
	trigger = {
		tag = B28
		NOT = { has_country_flag = B28_death_check }
		NOT = { has_country_flag = B28_new_missions}
	}
	option = {
		name = flavour_dogeater.100.a
		hidden_effect = {
			clr_country_flag = B28_death_check
			set_country_flag = B28_new_missions
		}
		tooltip = {
			kill_ruler = yes
		}
		add_country_modifier = {
			name = B28_legacy_of_the_anarch_of_dookan
			duration = -1
		}
		add_stability = -6
		define_ruler = {
			name = "CHAOS!"
			dynasty = " "
			adm = 0
			dip = 0
			mil = 0
			regency = yes
		}
		add_country_modifier = {
			name = B28_chaos
			duration = -1
		}
		swap_non_generic_missions = yes	
	}
}
#RAAAAAAAAAAAAGH
country_event = {
	id = flavour_dogeater.4
	title = flavour_dogeater.4.t
	desc = flavour_dogeater.4.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.4.a
		add_country_modifier = {
			name = B28_total_victory
			duration = 366
		}
		custom_tooltip = B28_ragh_tt
		hidden_effect = {
			country_event = {
				id = flavour_dogeater.41
				    days = 120
			}
		
			every_war_enemy_country  = {
				limit = {
					coalition_target = B28
					is_in_coalition_war = yes
				}
				add_treasury = -200
				B28 = {
					add_army_tradition = 2
					add_prestige = 5
					add_mil_power = 10
					add_treasury = 200
				}
				every_owned_province = {
					limit = {
						controlled_by = B28
					}
					remove_loot = {
						who = B28
						amount = 100
					}
					if = {
						limit = {
							base_tax = 2
						}
						add_base_tax = -1
						B28 = {
							add_adm_power = 3
						}
					}
					if = {
						limit = {
							base_production = 2
						}
						add_base_production = -1
						B28 = {
							add_dip_power = 3
						}
					}
					if = {
						limit = {
							base_manpower = 2
						}
						add_base_manpower = -1
						B28 = {
							add_mil_power = 3
						}
					}
				}
			}
			
		}
	}
}
#Corin, Twice Lived, Thrice Dead
country_event = {
	id = flavour_dogeater.5
	title = flavour_dogeater.5.t
	desc = flavour_dogeater.5.d
	picture = THE_HEROINE_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.5.a
		add_horde_unity = 10
		hidden_effect = {
			every_known_country = {
				limit = {
					has_reform = adventurer_reform
				}
				B28 = {
					add_casus_belli = {
						target = PREV
						type = cb_insult
						months = 1200
					}
				}
				hidden_effect = {
					set_country_flag = B28_not_shown_off
				}
			}
		}
		every_known_country = {
				limit = {
					has_reform = adventurer_reform
					humiliated_by = ROOT
				}
				ROOT = {
					add_adm_power = 50
					add_mil_power = 50
					add_dip_power = 50
					add_war_exhaustion = -5
					if = {
						limit = { NOT = { stability = -2 } }
						add_stability = 1
					}
					add_country_modifier = {
						name = orc_clans_contribution
						duration = 3650
					}
				}
				clr_country_flag = B28_not_shown_off
		}
		custom_tooltip = B28_insult_tt2
		custom_tooltip = B28_corin_tt
		tooltip = {
			add_country_modifier = {
				name = B28_slayer_of_corin
				duration = -1
			}
		}
		hidden_effect = {
			set_country_flag = B28_corin_flag
		}
		if = {
			limit = { 
			 	B02 = { exists = yes }
			}
			B02 = {
				kill_ruler = yes
			}
		}
	}
}
#Greater than Korgus
country_event = {
	id = flavour_dogeater.6
	title = flavour_dogeater.6.t
	desc = flavour_dogeater.6.d
	picture = ORC_WITH_AXE_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.6.a
		remove_ruler_personality = drunkard_personality
		add_ruler_personality = bold_fighter_personality
		add_ruler_modifier = {
			name = B28_true_son_of_dookan
		}
		if = {
			limit = { 
			 	B30 = { exists = yes }
			}
			B30 = {
				kill_ruler = yes
			}
		}
	}
	option = {
		name = flavour_dogeater.6.b
		remove_ruler_personality = drunkard_personality
		add_ruler_personality = bold_fighter_personality
		change_religion = bulgu_orazan
		custom_tooltip = B28_6_tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					religion = great_dookan
					unrest = 0.1
				}
				spawn_rebels = {
					type = great_dookan_rebels
					size = 1
				}
			}
			every_owned_province = {
				limit = {
					religion = great_dookan
				}
				change_religion = bulgu_orazan
			}
		}
		
		if = {
			limit = { 
			 	B30 = { exists = yes }
			}
			B30 = {
				kill_ruler = yes
			}
		}
	}
}
#The Best Dogs
country_event = {
	id = flavour_dogeater.1
	title = flavour_dogeater.1.t
	desc = flavour_dogeater.1.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.1.a
		add_country_modifier = {
			name = B28_hundredhowl_wargs
			duration = -1
		}
	}
	option = {
		name = flavour_dogeater.1.b
		add_country_modifier = {
			name = B28_thundertrot_wargs
			duration = -1
		}
	}
	after = {
		hidden_effect = {
			country_event = {
				id = flavour_dogeater.13
				days = 3650
			}
		}
	}
}
#Dush Dogeater has leveled up
country_event = {
	id = flavour_dogeater.92
	title = flavour_dogeater.92.t
	desc = flavour_dogeater.92.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		has_country_modifier = B28_the_rabid_2
	}
	option = {
		name = flavour_dogeater.92.a
		change_mil = 2
		remove_country_modifier = B28_the_rabid_2
		add_ruler_modifier = {
			name = B28_the_rabid_3
		}
	}
}
country_event = {
	id = flavour_dogeater.91
	title = flavour_dogeater.91.t
	desc = flavour_dogeater.91.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		has_country_modifier = B28_the_rabid_1
	}

	option = {
		name = flavour_dogeater.91.a
		change_mil = 2
		remove_country_modifier = B28_the_rabid_1
		add_ruler_modifier = {
			name = B28_the_rabid_2
		}
	}
}
#An Army Without A State
country_event = {
	id = flavour_dogeater.7
	title = flavour_dogeater.7.t
	desc = flavour_dogeater.7.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.7.a
		custom_tooltip = dogeater.7_tt
		hidden_effect = {
			every_country = {
				limit = {
					NOT = { tag = B28 }
					OR = {
						capital_scope = {
							OR = {
								region = inner_castanor_region
								region = west_castanor_region
								region = south_castanor_region
							}
						}
						is_neighbor_of = ROOT
					}
				}
				country_event = {
					id = flavour_dogeater.71
				}
			}
		}
	}
}
#Skirmishes with Warbands
country_event = {
	id = flavour_dogeater.71
	title = flavour_dogeater.71.t
	desc = flavour_dogeater.71.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.71.a
		add_stability = -1
		every_owned_province = {
			limit = {
				continent = europe
				is_island = no
			}
			add_devastation = 10
			remove_loot = {
				who = B28
				amount = 100
			}
		}
		add_aggressive_expansion = {
			who = B28
			value = 50
		}
	}
	option = {
		name = flavour_dogeater.71.b
		trigger = {
			ai = no
		}
		add_manpower = -20
		add_stability = -1
		for = {
			amount = 15
			custom_tooltip = B28_71.tt
			effect = "
				random_owned_province  = {
					limit = { NOT = { has_province_flag = B28_wrecked_flag } continent = europe }
					add_devastation = 10
					set_province_flag = B28_wrecked_flag
					remove_loot = {
						who = B28
						amount = 100
					}
				}
			"
		}
		every_owned_province = {
			clr_province_flag = B28_wrecked_flag
		}
	}
}
#The New Warchief
country_event = {
	id = flavour_dogeater.101
	title = flavour_dogeater.101.t
	desc = flavour_dogeater.101.d
	picture = ORC_WITH_AXE_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_dogeater.101.a
		define_ruler = {
				dynasty = "Dogeater"
				max_random_adm = 1
				max_random_dip = 1
				max_random_mil = 1
				max_age  = 30
				claim = 100
		}
		define_ruler_to_general = {
			fire = 0
			shock = 5
			manuever = 5
			siege = 1
		}
		hidden_effect = {
			set_country_flag = B28_101a_flag
		}
	}
	option = {
		name = flavour_dogeater.101.b
		define_ruler = {
				dynasty = "Dogeater"
				mil = 3
				max_age  = 30
				claim = 100
		}
		hidden_effect = {
			set_country_flag = B28_101b_flag
		}
	}
	option = {
		name = flavour_dogeater.101.c
		define_ruler = {
				dynasty = "Dogeater"
				adm = 3
				max_age  = 30
				claim = 100
		}
		hidden_effect = {
			set_country_flag = B28_101c_flag
		}
	}
	option = {
		name = flavour_dogeater.101.e
		define_ruler = {
				dynasty = "Dogeater"
				dip = 3
				max_age  = 30
				claim = 100
		}
		hidden_effect = {
			set_country_flag = B28_101d_flag
		}
	}
}