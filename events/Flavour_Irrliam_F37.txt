namespace = irrliam

country_event = {
	id = irrliam.1
	title = irrliam.1.t
	desc = irrliam.1.d
	picture = HEIR_AND_FOREIGN_ADVISOR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = irrliam.1.a
		highlight = yes
		trigger = { alliance_with = F34 }
		change_heir_mil = 1
	}
	option = {
		name = irrliam.1.b
		highlight = yes
		trigger = { alliance_with = F25 }
		change_heir_mil = 1
	}
	option = {
		name = irrliam.1.c
		highlight = yes
		trigger = { OR = { alliance_with = F21 alliance_with = F84 alliance_with = F83 } }
		change_heir_adm = 1
	}
	option = {
		name = irrliam.1.dd
		highlight = yes
		trigger = { alliance_with = F42 }
		change_heir_dip = 1
	}

}

#Taelarios' Death
country_event = {
	id = irrliam.2
	title = irrliam.2.t
	desc = irrliam.2.d
	picture = KING_SICK_IN_BED_eventPicture
	
	is_triggered_only = yes
	
	trigger = {	has_ruler_modifier = irrliam_first_ruler }
	
	option = {
		name = irrliam.2.a
		kill_ruler = yes
	}
}

country_event = {
	id = irrliam.3
	title = irrliam.3.t
	desc = irrliam.3.d
	picture = MILITARISTICALLY_TALENTED_RULER_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = irrliam.3.a
		increase_nsc_isolation_level = yes
		add_country_modifier = {
			name = irrliam_loyal_estates
			duration = -1
		}
	}
}

country_event = {
	id = irrliam.4
	title = irrliam.4.t
	desc = irrliam.4.d
	picture = KINGS_CHOICE_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = irrliam.4.a
		sur_mountains_area = {
			limit = { NOT = { owned_by = F43 } }
			cede_province = F43
		}
		zansap_area = {
			limit = { NOT = { owned_by = F43 } }
			cede_province = F43
		}
		garpix_tluukt_area = {
			limit = { NOT = { owned_by = F43 } }
			cede_province = F43
		}
		jixobix_area = {
			limit = { NOT = { owned_by = F43 } }
			cede_province = F43
		}
		grixekyr_area = {
			limit = { NOT = { owned_by = F43 } }
			cede_province = F43
		}
		add_historical_friend_mutual = { tag = F43 }
		define_general = {
			shock = 6
			fire = 3
			manuever = 4
			siege = 2
		}
	}
	option = {
		name = irrliam.4.b
		reverse_add_opinion = {
			who = F43
			modifier = irrliam_sad_zap
		}
	}
}

country_event = {
	id = irrliam.5
	title = irrliam.5.t
	desc = irrliam.5.d
	picture = BAD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = irrliam.5.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				FROM = {
					army_strength = {
						who = ROOT
						value = 1
					}
				}
			}
			modifier = {
				factor = 2
				FROM = { total_development = ROOT }
			}
			modifier = {
				factor = 3
				has_opinion = {
					who = FROM
					value = 150
				}
			}
		}
		FROM = {
			create_subject = {
				subject_type = personal_union
				subject = ROOT
			}
		}
	}
	option = {
		name = irrliam.5.b
		ai_chance = { factor = 3 }
		FROM = {
			add_casus_belli = {
				type = cb_restore_personal_union
				target = ROOT
				months = 240
			}
		}
	}
}

country_event = {
	id = irrliam.6
	title = irrliam.6.t
	desc = irrliam.6.d
	picture = muslimgfx_DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = irrliam.6.a
		bulwar_area = { add_permanent_claim = ROOT }
	}
	option = {
		name = irrliam.6.b
		add_country_modifier = {
			name = irrliam_bulwar_vassal
			duration = 5475
		}
	}
	option = {
		name = irrliam.6.c
		trigger = { F39 = { ai = yes } }
		country_event = {
			id = irrliam.7
			days = 365
		}
		add_dip_power = -25
		add_treasury = -150
	}
}

country_event = {
	id = irrliam.7
	title = irrliam.7.t
	desc = irrliam.7.d
	picture = muslimgfx_CORRUPTION_eventPicture
	
	is_triggered_only = yes
	trigger = { exists = F39 }
	
	option = {
		name = irrliam.7.a
		add_corruption = 2
		add_country_modifier = {
			name = irrliam_bulwar_currupted
			duration = 10950
		}
		vassalize = F39
	}
}

country_event = {
	id = irrliam.8
	title = irrliam.8.t
	desc = irrliam.8.d
	picture = GENIE_RUINS_eventPicture
	
	is_triggered_only = yes	
	
	option = {
		name = irrliam.8.a
		ai_chance = {
			factor = 2
			modifier = {
				factor = 2
				FROM = {
					estate_loyalty = {
						estate = estate_church
						loyalty = 60
					}
				}
			}
			modifier = {
				factor = 2
				NOT = { total_development = 50 }
			}
			modifier = {
				factor = 3
				has_opinion = {
					who = FROM
					value = 120
				}
			}
		}
		FROM = { vassalize = ROOT }
	}
	option = {
		name = irrliam.8.b
		ai_chance = { factor = 3 }
		FROM = { add_treasury = 100 }
		if = {
			limit = { tag = U20 }
			azka_sur_area = { add_permanent_claim = FROM }
		}
		else = {
			eduz_vacyn_area = { add_permanent_claim = FROM }
		}
	}
	after = {
		if = {
			limit = {
				OR = {
					NOT = { has_saved_event_target = remaining_temple }
					tag = U20
				}
			}
			FROM = {
				country_event = {
					id = irrliam.9
					days = 1
				}
			}
		}
	}	
}

country_event = {
	id = irrliam.9
	title = irrliam.9.t
	desc = irrliam.9.d
	picture = SUN_CULT_DEBATE_eventPicture
	
	is_triggered_only = yes

	option = {
		name = irrliam.9.a
		if = {
			limit = { U20 = { is_subject_of = ROOT } }
			tooltip = {	vassalize = U20 }
		}
		else = { tooltip = { azka_sur_area = { add_permanent_claim = ROOT } } }
		if = {
			limit = { F31 = { is_subject_of = ROOT } }
			tooltip = {	vassalize = F31 }
		}
		else = { tooltip = { eduz_vacyn_area = { add_permanent_claim = ROOT } } }
		if = {
			limit = {
				U20 = { is_subject_of = ROOT }
				F31 = { is_subject_of = ROOT }
			}
			far_east_salahad_area = { add_permanent_claim = ROOT }
			baganash_area = { add_permanent_claim = ROOT }
			jikarzax_area = { add_permanent_claim = ROOT }
			saranza_area = { add_permanent_claim = ROOT }
			grixek_area = { add_permanent_claim = ROOT }
		}
	}
}

country_event = {
	id = irrliam.10
	title = irrliam.10.t
	desc = irrliam.10.d
	picture = GENIE_RUINS_eventPicture
	
	is_triggered_only = yes

	option = {
		name = irrliam.10.a
		add_country_modifier = {
			name = irrliam_convert
			duration = 5475
		}
	}
	option = {
		name = irrliam.10.b
		far_east_salahad_area = {
			change_religion = bulwari_sun_cult
			add_random_development = -2  
		}
		saranza_area = {
			change_religion = bulwari_sun_cult
			add_random_development = -2  
		}
		baganash_area = {
			change_religion = bulwari_sun_cult
			add_random_development = -2  
		}
	}
	option = {
		name = irrliam.10.c
		hidden_effect = {
			far_east_salahad_area = { add_core = F79 }
			saranza_area = { add_core = F79 }
			baganash_area = { add_core = F79 }
		}
		release_with_religion_and_culture = { tag = F79 religion = bulwari_sun_cult culture = masnsih }
		vassalize = F79
	}
}

country_event = {
	id = irrliam.11
	title = irrliam.11.t
	desc = {
		desc = irrliam.11.d1
		trigger = {
			has_country_flag = keladora_got
			has_ruler_modifier = irrliam_first_ruler
		}
	}
	desc = {
		desc = irrliam.11.d2
		trigger = { has_country_flag = keladora_got }
	}
	desc = {
		desc = irrliam.11.d3
		trigger = { has_ruler_modifier = irrliam_first_ruler }
	}
	desc = {
		desc = irrliam.11.d4
		trigger = { always = yes }
	}
	picture = SUN_CULT_PRIEST_eventPicture
	
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			random_list = {
				4 = {
					trigger = { NOT = { is_rival = F21 is_enemy = F21 } F21 = { ai = yes } }
					modifier = { factor = 4 OR = { has_heir_flag = irrliam_first_heir has_ruler_flag = irrliam_first_heir } }
					set_country_flag = keladora_got
				}
				6 = {
					modifier = { factor = 10 ai = yes }
				}
			}
		}
	}

	option = {
		name = irrliam.11.a
		trigger = { has_country_flag = keladora_got }
		if = {
			limit = { has_ruler_modifier = irrliam_first_ruler }
			custom_tooltip = irrliam_future_pu
			set_heir_flag = keladora_got
			F21 = {
				define_consort = {
					name = "Thelrion"
					dynasty = "Irrliazuir"
					birth_date = 1419.6.5
					adm = 2
					dip = 2
					mil = 5
					country_of_origin = ROOT
				}
			}
		}
		else = {
			set_ruler_flag = keladora_got
			create_subject = {
				subject = F21
				subject_type = personal_union
			}
			define_consort = {
				name = "Keladora"
				dynasty = "Birzartanzuir"
				birth_date = 1391.7.3
				adm = 3
				dip = 4
				mil = 3
				female = yes
				country_of_origin = F21
			}
			clr_country_flag = keladora_got
		}
		bahar_szel_uak_area = { add_claim = ROOT }
	}
	option = {
		name = irrliam.11.b
		trigger = { NOT = { has_country_flag = keladora_got } }
		kuz_mountains_area = { add_permanent_claim = ROOT }
		imuluses_area = { add_permanent_claim = ROOT }
		kuzak_area = { add_permanent_claim = ROOT }
		birsartenslib_area = { add_permanent_claim = ROOT }
		bahar_szel_uak_area = { add_claim = ROOT }
	}
}

country_event = {
	id = irrliam.12
	title = irrliam.12.t
	desc = irrliam.12.d
	picture = muslimgfx_WOUNDED_SOLDIERS_eventPicture
	
	is_triggered_only = yes

	option = {
		name = irrliam.12.a
		kuzak_area = {
			add_devastation = 100
			add_random_development = -2
			change_religion = bulwari_sun_cult
		}
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
		add_power_projection = { 
			type = mission_rewards_power_projection
			amount = 15
		}
	}
}

country_event = {
	id = irrliam.13
	title = irrliam.13.t
	desc = irrliam.13.d
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes

	option = {
		name = irrliam.13.a
		elizna_area = { add_permanent_claim = ROOT }
		masusopot_area = { add_permanent_claim = ROOT }
		awaashesh_area = { add_permanent_claim = ROOT }
		ibtat_axast_area = { add_permanent_claim = ROOT }
		add_power_projection = { 
			type = mission_rewards_power_projection
			amount = 15
		}
	}
	option = {
		name = irrliam.13.b
		add_ruler_modifier = {
			name = thelrion_vassals
		}
	}
	option = {
		name = irrliam.13.c
		add_ruler_modifier = {
			name = thelrion_diplo
		}
	}
}

country_event = {
	id = irrliam.14
	title = irrliam.14.t
	desc = irrliam.14.d
	picture = BYZ_HARBOUR_eventPicture
	
	is_triggered_only = yes

	option = {
		name = irrliam.14.a
		U05 = { kill_ruler = yes }
		every_known_country = {
			limit = { culture = sun_elf NOT = { tag = U05 } }
			add_opinion = {
				who = ROOT
				modifier = irrliam_just
			}
		}
	}
	option = {
		name = irrliam.14.b
		U05 = {
			kill_ruler = yes
			kill_consort = yes
			if = { limit = { has_heir = yes } kill_heir = {} }
		}
		add_legitimacy = 50
		every_known_country = {
			limit = { culture = sun_elf }
			add_opinion = {
				who = ROOT
				modifier = irrliam_vengeful
			}
		}
	}
}

country_event = {
	id = irrliam.15
	title = irrliam.15.t
	desc = irrliam.15.d
	picture = muslimgfx_MERCHANTS_TALKING_eventPicture
	
	is_triggered_only = yes

	trigger = { num_of_subjects = 1 }

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					NOT = {
						AND = {
							has_country_flag = irrliam_boosted_subject
							ROOT = { num_of_subjects = 2 }
						}
					}
				}
				save_event_target_as = vassal1
			}
			random_subject_country = {
				limit = {
					NOT = {
						has_country_flag = irrliam_boosted_subject
						tag = event_target:vassal1
					}
				}
				save_event_target_as = vassal2
			}
			if = {
				limit = { has_saved_event_target = vassal2 }
				random_subject_country = {
					limit = {
						NOT = {
							has_country_flag = irrliam_boosted_subject
							tag = event_target:vassal1
							tag = event_target:vassal2
						}
					}
					save_event_target_as = vassal3
				}
				if = {
					limit = { has_saved_event_target = vassal3 }
					random_subject_country = {
						limit = {
							NOT = {
								has_country_flag = irrliam_boosted_subject
								tag = event_target:vassal1
								tag = event_target:vassal2
								tag = event_target:vassal3
							}
						}
						save_event_target_as = vassal4
					}
				}
			}
			every_subject_country = {
				clr_country_flag = irrliam_boosted_subject
			}
		}
	}

	option = {
		name = irrliam.15.a
		event_target:vassal1 = {
			set_country_flag = irrliam_boosted_subject
			capital_scope = {
				if = {
					limit = { ROOT = { mission_completed = irrliam_imperial_projects } }
					area = {
						add_province_modifier = {
							name = irrliam_subject_boost_mod
							duration = 5475
						}
					}
				}
				else = {
					add_province_modifier = {
						name = irrliam_subject_boost_mod
						duration = 5475
					}
				}
			}
		}
	}
	option = {
		name = irrliam.15.b
		trigger = { has_saved_event_target = vassal2 }
		event_target:vassal2 = {
			set_country_flag = irrliam_boosted_subject
			capital_scope = {
				if = {
					limit = { ROOT = { mission_completed = irrliam_imperial_projects } }
					area = {
						add_province_modifier = {
							name = irrliam_subject_boost_mod
							duration = 5475
						}
					}
				}
				else = {
					add_province_modifier = {
						name = irrliam_subject_boost_mod
						duration = 5475
					}
				}
			}
		}
	}
	option = {
		name = irrliam.15.c
		trigger = { has_saved_event_target = vassal3 }
		event_target:vassal3 = {
			set_country_flag = irrliam_boosted_subject
			capital_scope = {
				if = {
					limit = { ROOT = { mission_completed = irrliam_imperial_projects } }
					area = {
						add_province_modifier = {
							name = irrliam_subject_boost_mod
							duration = 5475
						}
					}
				}
				else = {
					add_province_modifier = {
						name = irrliam_subject_boost_mod
						duration = 5475
					}
				}
			}
		}
	}
	option = {
		name = irrliam.15.dd
		trigger = { has_saved_event_target = vassal4 }
		event_target:vassal4 = {
			set_country_flag = irrliam_boosted_subject
			capital_scope = {
				if = {
					limit = { ROOT = { mission_completed = irrliam_imperial_projects } }
					area = {
						add_province_modifier = {
							name = irrliam_subject_boost_mod
							duration = 5475
						}
					}
				}
				else = {
					add_province_modifier = {
						name = irrliam_subject_boost_mod
						duration = 5475
					}
				}
			}
		}
	}
}
