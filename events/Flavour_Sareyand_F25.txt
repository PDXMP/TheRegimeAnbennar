
namespace = flavour_sareyand

country_event = {
	id = flavour_sareyand.1
	title = flavour_sareyand.1.t
	desc = flavour_sareyand.1.d
	picture = BATTLE_eventPicture
	
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.1.a

		custom_tooltip = sareyand_no_absolutism_cost_on_privileges.tt
		hidden_effect = {
			set_country_flag = estate_nobles_officer_corp_no_absolutism_cost
			set_country_flag = estate_nobles_noble_officer_right_no_absolutism_cost
			set_country_flag = sareyand_companions_of_the_sun
		}
	}
}

country_event = {
	id = flavour_sareyand.2
	title = flavour_sareyand.2.t
	desc = {
		trigger = {
			has_ruler = "Eledas III"
		}
		desc = flavour_sareyand.2.da
	}
	desc = {
		trigger = {
			NOT = { has_ruler = "Eledas III" }
		}
		desc = flavour_sareyand.2.db
	}
	picture = CONQUEST_eventPicture
	
	is_triggered_only = yes
	
	trigger = { }
	
	option = { 
		name = flavour_sareyand.2.a 
		ai_chance = { 
			factor = 50 
			modifier = { 
				625 = { owner = { ai = no } } 
				factor = 2  
			} 
			modifier = { 
				625 = { owner = { ai = yes } } 
				army_strength = { 
					who = F25		#Sareyand 
					value = 0.60
				}
				factor = 0
			} 
		}

		F25 = {
			vassalize = ROOT
		}
		add_liberty_desire = -10

		hidden_effect = {
			if = {
				limit = { tag = F31 } #Eduz-Vacyn
				F25 = { create_march = F31 }
				add_country_modifier = {
					name = sareyand_vacyn_vassal_flag
					duration = 7300
					hidden = yes
				}
			}
			if = {
				limit = { tag = F36 } #Harklum
				add_country_modifier = {
					name = sareyand_harklum_vassal_flag
					duration = 7300
					hidden = yes
				}
			}
		}
	}

	option = { 
		name = flavour_sareyand.2.b 
		ai_chance = { 
			factor = 50 
			modifier = { 
				625 = { owner = { ai = no } } 
				factor = 0  
			} 
			modifier = { 
				625 = { owner = { ai = yes } } 
				army_strength = { 
					who = F25		#Sareyand 
					value = 0.60 
				} 
				factor = 2 
			} 
		}

		F25 = {
			remove_guarantee = ROOT
			add_casus_belli = {
				target = ROOT
				type = cb_vassalize_mission
				months = 360
			}
		}
	}
}

country_event = {
	id = flavour_sareyand.3
	title = flavour_sareyand.3.t
	desc = flavour_sareyand.3.d
	picture = ANGRY_MOB_eventPicture
		
	is_triggered_only = yes
	
	trigger = { 
		OR = {
			has_country_modifier = sareyand_vacyn_vassal_flag
			has_country_modifier = sareyand_harklum_vassal_flag
		}
	}
	
	option = {
		name = flavour_sareyand.3.a
	
		if = {
			limit = { F31 = { has_country_modifier = sareyand_vacyn_vassal_flag } }
			free_vassal = F31 #Eduz-Vacyn
		}
		if = {
			limit = { F36 = { has_country_modifier = sareyand_harklum_vassal_flag } }
			free_vassal = F36 #Harklum
		}
		add_prestige = -20
		add_legitimacy = -20
	}
}

country_event = {
	id = flavour_sareyand.4
	title = flavour_sareyand.4.t
	desc = flavour_sareyand.4.d
	picture = GOOD_WITH_MONARCH_eventPicture
		
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.4.a
	
		if = {
			limit = { F42 = { exists = no } } #Vamrahar
			traz_buranun_area = {
				cede_province = F42
			}
		}
		if = {
			limit = { F42 = { NOT = { is_subject_of_type = personal_union } } }
			F42 = { kill_ruler = yes }
			create_subject = {
				subject_type = personal_union
				subject = F42
			}
		}
		F42 = { 
			override_country_name = DALARAND 
			add_liberty_desire = -10
		}
		608 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 20
				leader = "Karodir II Varamzuir" #Old Dynasty Pretenders
			}
		}
	}
}

country_event = {
	id = flavour_sareyand.5
	title = flavour_sareyand.5.t
	desc = flavour_sareyand.5.d
	picture = CITY_VIEW_eventPicture
		
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.5.a
	
		add_country_modifier = {
			name = sareyand_the_true_lord_of_bulwar
			duration = -1
		}
	}
}

country_event = {
	id = flavour_sareyand.6
	title = flavour_sareyand.6.t
	desc = {
		trigger = {
			has_ruler = "Eledas III"
		}
		desc = flavour_sareyand.6.da
	}
	desc = {
		trigger = {
			NOT = { has_ruler = "Eledas III" }
		}
		desc = flavour_sareyand.6.db
	}
	picture = ELVEN_EYE_eventPicture
		
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.6.a
	
		571 = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 12
				culture = sandfang_gnoll
				friend = F29 #Zokka
				separatists_target = F29 #Zokka
			}
			change_culture = ROOT
			change_religion = ROOT
			change_province_name = "Azka-Eledas"
			rename_capital = "Azka-Eledas"
			add_base_tax = 1
			add_base_production = 2
			add_base_manpower = 1
		}
		generic_start_purge = { race = gnollish free = yes }
		largest_decrease_of_gnollish_tolerance_effect = yes
		if = {
			limit = { has_ruler = "Eledas III" }

			remove_ruler_personality = craven_personality
			add_ruler_personality = lawgiver_personality
			change_mil = 2
		}
		custom_tooltip = sareyand_claims_on_jaddari_tt
		hidden_effect = {
			far_salahad_region = {
				limit = {
					OR = {
						owned_by = F46 #Jaddari
						culture = desert_elf
					}
				}
				add_permanent_claim = ROOT
			}
		}
	}
}

country_event = {
	id = flavour_sareyand.7
	title = flavour_sareyand.7.t
	desc = flavour_sareyand.7.d
	picture = BIG_BOOK_eventPicture
		
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.7.a

		add_mil_power = 100
		hidden_effect = {
			add_xia_origin_effect = { path = 2909 MT = yes }
		}
		custom_tooltip = sareyand_desert_fire_origin.tt
		custom_tooltip = sareyand_desert_elves_become_sun_elves_tt
		hidden_effect = {
			every_province = {
				limit = { culture = desert_elf } 
				change_culture = sun_elf
			}
			set_country_flag = sareyand_unlock_monk1
		}
		far_salahad_region = { add_permanent_claim = ROOT }
	}
}


country_event = {
	id = flavour_sareyand.8
	title = flavour_sareyand.8.t
	desc = flavour_sareyand.8.d
	picture = RELIGIOUS_CONVERSION_eventPicture
		
	is_triggered_only = yes
	
	trigger = { }
	
	option = {
		name = flavour_sareyand.8.a

		hidden_effect = { 
			set_country_flag = sareyand_allow_monks 
			add_xia_origin_effect = { path = 625 MT = yes }
            every_owned_province = {
                limit = {
                    OR = {
                        holy_order = order_of_judges_order
                        holy_order = servants_of_surael_order
                        holy_order = order_of_exemplars_order
                    }
                    NOT = { has_province_modifier = rightful_exorcist_priesthood_territory }
                }
                add_province_modifier = {
                    name = sareyand_exorcist_priest_base
                    duration = -1
                }
                area = {
                    add_province_modifier = {
                        name = rightful_exorcist_priesthood_territory
                        duration = -1
                    }
                }
            }
			set_country_flag = sareyand_unlock_monk2
		}
		custom_tooltip = sareyand_blazing_sun_origin.tt
		choose_new_xia_path = { path = 625 }
		if = {
			limit = {
				has_reform = jaherian_administration
			}
			add_government_reform = sareyand_pe_jaherian_exorcist_priests
		}
		else = {
			add_government_reform = sareyand_exorcist_priests_in_the_army
		}
	}
}